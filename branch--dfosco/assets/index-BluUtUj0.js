const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CommentOverlay-yTA5TfzK.js","assets/vendor-reshaped-C4XopQGf.js","assets/vendor-react-DoOg4MWp.js","assets/vendor-reshaped-CU0gdG-S.css","assets/vendor-primer-B_65FTR0.js","assets/vendor-octicons-B28xQhWB.js","assets/vendor-primer-CL7onuSO.css"])))=>i.map(i=>d[i]);
import{j as o,C as Ee,V as f,T as b,D as xe,R as St,B as Et,a as ca,b as Hn,P as la,S as ds,F as S,c as Ze,d as ve,e as Ge,A as us,M as Qe}from"./vendor-reshaped-C4XopQGf.js";import{r as k,u as Xs,f as Qs,O as eo,h as dr,g as da,L as ot,i as ua,j as fa}from"./vendor-react-DoOg4MWp.js";import{S as ye,I as pa,T as F,U as fs,N as An,a as to,A as Fn,L as no,u as ha,b as In,c as Tn,d as ma,e as ga,B as ba}from"./vendor-primer-B_65FTR0.js";import{o as xa,M as va,p as ur,m as ne,l as fr,q as pr,r as hr,s as mr,f as gr,t as br,u as xr,v as vr,w as yr,j as ro,k as so,b as ya,x as ps,y as Lt}from"./vendor-octicons-B28xQhWB.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Gt(e,t){const n={...e};for(const r of Object.keys(t)){const s=t[r],i=e[r];s!==null&&typeof s=="object"&&!Array.isArray(s)&&i!==null&&typeof i=="object"&&!Array.isArray(i)?n[r]=Gt(i,s):n[r]=s}return n}let fe={scenes:{},objects:{},records:{}};function wa(e){if(!e||typeof e!="object")throw new Error("[storyboard-core] init() requires { scenes, objects, records }");fe={scenes:e.scenes||{},objects:e.objects||{},records:e.records||{}}}function Un(e,t){if(t&&fe[t]?.[e]!=null)return fe[t][e];if(!t){for(const n of["scenes","objects","records"])if(fe[n]?.[e]!=null)return fe[n][e]}if(t==="scenes"||!t){const n=e.toLowerCase();for(const r of Object.keys(fe.scenes))if(r.toLowerCase()===n)return fe.scenes[r]}throw new Error(`Data file not found: ${e}${t?` (type: ${t})`:""}`)}function _t(e,t=new Set){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(r=>_t(r,t));if(e.$ref&&typeof e.$ref=="string"){const r=e.$ref;if(t.has(r))throw new Error(`Circular $ref detected: ${r}`);t.add(r);const s=Un(r,"objects");return _t(s,t)}const n={};for(const[r,s]of Object.entries(e))n[r]=_t(s,t);return n}function _a(e){if(fe.scenes[e]!=null)return!0;const t=e.toLowerCase();for(const n of Object.keys(fe.scenes))if(n.toLowerCase()===t)return!0;return!1}function ln(e="default"){let t;try{t=structuredClone(Un(e,"scenes"))}catch{throw new Error(`Failed to load scene: ${e}`)}if(Array.isArray(t.$global)){const n=t.$global;delete t.$global;let r={};for(const s of n)try{let i=Un(s);i=_t(i),r=Gt(r,i)}catch(i){console.warn(`Failed to load $global: ${s}`,i)}t=Gt(r,t)}return t=_t(t),structuredClone(t)}function wr(e){const t=fe.records[e];if(t==null)throw new Error(`Record not found: ${e}`);if(!Array.isArray(t))throw new Error(`Record "${e}" must be an array, got ${typeof t}`);return structuredClone(t)}function ja(e,t){return wr(e).find(r=>r.id===t)??null}function oo(e,t){if(e==null||typeof t!="string"||t==="")return;const n=t.split(".");let r=e;for(const s of n){if(r==null||typeof r!="object")return;r=r[s]}return r}function At(e){if(Array.isArray(e))return e.map(At);if(e!==null&&typeof e=="object"){const t={};for(const n of Object.keys(e))t[n]=At(e[n]);return t}return e}function Jt(e,t,n){const r=t.split(".");let s=e;for(let i=0;i<r.length-1;i++){const a=r[i];(s[a]==null||typeof s[a]!="object")&&(s[a]=/^\d+$/.test(r[i+1])?[]:{}),s=s[a]}s[r[r.length-1]]=n}function dn(){const e=window.location.hash.replace(/^#/,"");return new URLSearchParams(e)}function io(e){const t=e.toString();window.location.hash=t}function ao(e){return dn().get(e)}function et(e,t){const n=dn();n.set(e,String(t)),io(n)}function co(){const e=dn(),t={};for(const[n,r]of e.entries())t[n]=r;return t}function Zt(e){const t=dn();t.delete(e),io(t)}const un="storyboard:";function fn(e){try{return localStorage.getItem(un+e)}catch{return null}}function ae(e,t){try{localStorage.setItem(un+e,String(t)),_r()}catch{}}function Xt(e){try{localStorage.removeItem(un+e),_r()}catch{}}function lo(e){const t=()=>{uo(),e()};return window.addEventListener("storage",t),window.addEventListener("storyboard-storage",t),()=>{window.removeEventListener("storage",t),window.removeEventListener("storyboard-storage",t)}}let yt=null;function uo(){yt=null}function fo(){if(yt!==null)return yt;try{const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(un)&&e.push(n+"="+localStorage.getItem(n))}return yt=e.sort().join("&"),yt}catch{return""}}function _r(){uo(),window.dispatchEvent(new Event("storyboard-storage"))}const jr="__hide__",Qt="historyState",tt="currentState",Xe="nextState",hs=200;function $e(){return fn(jr)==="1"}function po(){Nt(),ae(jr,"1");const e=new URL(window.location.href);e.searchParams.delete("hide"),e.hash="",window.history.replaceState(window.history.state,"",e.toString())}function ho(){const e=Ot();if(e){window.location.hash="";const t=new URLSearchParams(e);for(const[n,r]of t.entries())et(n,r)}Xt(jr),Aa("show")}function pn(){return window.location.pathname}function mo(){return new URLSearchParams(window.location.hash.replace(/^#/,"")).toString()}function Nt(e,t){const n=e!==void 0?e:mo(),r=t!==void 0?t:pn(),s=hn(),i=mn();if(i!==null&&s[i]){const[,u,p]=s[i];if(u===r&&p===n)return}const a=i!==null?s.slice(0,i+1):s,c=a.length,l=[c,r,n],d=[...a,l];if(d.length>hs){const u=d.slice(d.length-hs);for(let p=0;p<u.length;p++)u[p]=[p,u[p][1],u[p][2]];ae(Qt,JSON.stringify(u)),ae(tt,String(u.length-1))}else ae(Qt,JSON.stringify(d)),ae(tt,String(c));Xt(Xe)}function hn(){const e=fn(Qt);if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}function mn(){const e=fn(tt);if(e===null)return null;const t=parseInt(e,10);return Number.isNaN(t)?null:t}function Ca(){const e=fn(Xe);if(e===null)return null;const t=parseInt(e,10);return Number.isNaN(t)?null:t}function Ot(){const e=mn();if(e===null)return null;const t=hn();return t[e]?t[e][2]:null}function go(){const e=mn();if(e===null)return null;const t=hn();return t[e]?t[e][1]:null}function bo(e){const t=Ot();return t?new URLSearchParams(t).get(e):null}function ms(e,t){const n=Ot()||"",r=new URLSearchParams(n);r.set(e,String(t)),Nt(r.toString(),go()||pn())}function gs(e){const t=Ot()||"",n=new URLSearchParams(t);n.delete(e),Nt(n.toString(),go()||pn())}function Sa(){const e=Ot();if(!e)return{};const t=new URLSearchParams(e),n={};for(const[r,s]of t.entries())n[r]=s;return n}function bs(){if($e())return;const e=pn(),t=mo(),n=hn(),r=mn();if(!t&&!e&&n.length===0)return;const s=n.findIndex(([,c,l])=>c===e&&l===t);if(s===-1){Nt(t,e);return}if(s===r)return;const i=r!==null?r-1:null,a=Ca();if(i!==null&&s===i)ae(Xe,String(r)),ae(tt,String(s));else if(a!==null&&s===a){const c=a+1;n[c]?ae(Xe,String(c)):Xt(Xe),ae(tt,String(s))}else{Xt(Xe),ae(tt,String(s));const c=n.slice(0,s+1);ae(Qt,JSON.stringify(c))}_r()}function Ea(){Nt(),window.addEventListener("hashchange",()=>bs()),window.addEventListener("popstate",()=>bs())}function Aa(e){const t=new URL(window.location.href);t.searchParams.has(e)&&(t.searchParams.delete(e),window.history.replaceState(window.history.state,"",t.toString()))}function en(){const e=new URL(window.location.href);if(e.searchParams.has("hide")){po();return}if(e.searchParams.has("show")){ho();return}}function Ia(){en(),window.addEventListener("popstate",()=>en())}function gn(e){return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)}function Cr(){return window.location.hash}const Ta="modulepreload",ka=function(e){return"/storyboard/branch--dfosco/"+e},xs={},be=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=l(n.map(d=>{if(d=ka(d),d in xs)return;xs[d]=!0;const u=d.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":Ta,u||(x.as="script"),x.crossOrigin="",x.href=d,c&&x.setAttribute("nonce",c),document.head.appendChild(x),u)return new Promise((C,j)=>{x.addEventListener("load",C),x.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};let nt=null;function Na(e,t={}){if(!e||!e.comments){nt=null;return}const n=e.comments;nt={repo:{owner:n.repo?.owner??"",name:n.repo?.name??""},discussions:{category:n.discussions?.category??"Storyboard Comments"},basePath:t.basePath??"/"}}function Sr(){return nt}function tn(){return nt!==null&&nt.repo.owner!==""&&nt.repo.name!==""}const Oa=`
.sb-devtools-wrapper {
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 9999;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
}

.sb-devtools-trigger {
  display: flex;
  align-items: center;
  padding: 12px;
  background-color: #161b22;
  color: #8b949e;
  border: 1px solid #30363d;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  transition: opacity 150ms ease, transform 150ms ease;
  user-select: none;
}
.sb-devtools-trigger:hover { transform: scale(1.05); }
.sb-devtools-trigger:active { transform: scale(0.97); }
.sb-devtools-trigger svg { width: 16px; height: 16px; fill: currentColor; }

.sb-devtools-menu {
  position: absolute;
  bottom: 56px;
  right: 0;
  min-width: 200px;
  background-color: #161b22;
  border: 1px solid #30363d;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  overflow: hidden;
  display: none;
}
.sb-devtools-menu.open { display: block; }

.sb-devtools-menu-item {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 8px 16px;
  background: none;
  border: none;
  color: #c9d1d9;
  font-size: 14px;
  font-family: inherit;
  cursor: pointer;
  text-align: left;
}
.sb-devtools-menu-item:hover { background-color: #21262d; }
.sb-devtools-menu-item svg { width: 16px; height: 16px; fill: currentColor; flex-shrink: 0; }

.sb-devtools-hint {
  padding: 6px 16px 8px;
  font-size: 12px;
  color: #484f58;
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
}

.sb-devtools-overlay {
  position: fixed;
  inset: 0;
  z-index: 9998;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding: 16px;
  padding-bottom: 80px;
}
.sb-devtools-backdrop {
  position: fixed;
  inset: 0;
  background: transparent;
}
.sb-devtools-panel {
  position: relative;
  width: 100%;
  max-width: 640px;
  max-height: 60vh;
  background-color: #0d1117;
  border: 1px solid #30363d;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
.sb-devtools-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-bottom: 1px solid #21262d;
}
.sb-devtools-panel-title {
  font-size: 14px;
  font-weight: 600;
  color: #c9d1d9;
}
.sb-devtools-panel-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: none;
  border: none;
  border-radius: 6px;
  color: #8b949e;
  cursor: pointer;
}
.sb-devtools-panel-close:hover { background-color: #21262d; color: #c9d1d9; }
.sb-devtools-panel-close svg { width: 16px; height: 16px; fill: currentColor; }
.sb-devtools-panel-body {
  overflow: auto;
  padding: 16px;
}
.sb-devtools-code {
  padding: 0;
  margin: 0;
  background: none;
  font-size: 13px;
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
  line-height: 1.5;
  color: #c9d1d9;
  white-space: pre-wrap;
  word-break: break-word;
}
.sb-devtools-error { color: #f85149; }
`,Ra='<svg viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 010-1.5h6.5a.75.75 0 010 1.5H11v3.282l3.666 5.86C15.619 13.04 14.552 15 12.46 15H3.54c-2.092 0-3.159-1.96-2.206-3.358zM6.5 2.5v3.782a.75.75 0 01-.107.384L3.2 12.5h9.6l-3.193-5.834A.75.75 0 019.5 6.282V2.5z"/></svg>',Pa='<svg viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>',$a='<svg viewBox="0 0 16 16"><path d="M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z"/></svg>',La='<svg viewBox="0 0 16 16"><path d="M8.5 1.75a.75.75 0 0 0-1.5 0V3H1.75a.75.75 0 0 0 0 1.5H3v6H1.75a.75.75 0 0 0 0 1.5H7v1.25a.75.75 0 0 0 1.5 0V12h5.25a.75.75 0 0 0 0-1.5H12v-6h1.75a.75.75 0 0 0 0-1.5H8.5Zm2 8.75h-5a.25.25 0 0 1-.25-.25v-4.5A.25.25 0 0 1 5.5 5.5h5a.25.25 0 0 1 .25.25v4.5a.25.25 0 0 1-.25.25Z"/></svg>',Ma='<svg viewBox="0 0 16 16"><path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"/></svg>',za='<svg viewBox="0 0 16 16"><path d="M8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.45.678-1.367 1.932-2.637 3.023C11.67 13.008 9.981 14 8 14s-3.671-.992-4.933-2.078C1.797 10.831.88 9.577.43 8.899a1.62 1.62 0 0 1 0-1.798c.45-.678 1.367-1.932 2.637-3.023C4.33 2.992 6.019 2 8 2ZM1.679 7.932a.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5s2.823-.742 3.955-1.715c1.124-.967 1.954-2.096 2.366-2.717a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5s-2.824.742-3.955 1.715c-1.124.967-1.954 2.096-2.366 2.717ZM8 10a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 10Z"/></svg>',Da='<svg viewBox="0 0 16 16"><path d="M.143 2.31a.75.75 0 0 1 1.047-.167l14.5 10.5a.75.75 0 1 1-.88 1.214l-2.248-1.628C11.346 13.19 9.792 14 8 14c-1.981 0-3.671-.992-4.933-2.078C1.797 10.831.88 9.577.43 8.899a1.62 1.62 0 0 1 0-1.798c.35-.527 1.06-1.476 2.019-2.398L.31 3.357A.75.75 0 0 1 .143 2.31Zm3.386 3.378a14.21 14.21 0 0 0-1.85 2.244.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5c1.195 0 2.31-.488 3.29-1.191L9.063 9.695A2 2 0 0 1 6.058 7.39L3.529 5.688ZM8 3.5c-.516 0-1.017.09-1.499.251a.75.75 0 1 1-.473-1.423A6.23 6.23 0 0 1 8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.11.166-.248.365-.41.587a.75.75 0 1 1-1.21-.887c.14-.191.26-.367.36-.524a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5Z"/></svg>';function Ba(){return new URLSearchParams(window.location.search).get("scene")||"default"}function Ha(e={}){const t=e.container||document.body,n=e.basePath||"/";if(t.querySelector(".sb-devtools-wrapper"))return;const r=document.createElement("style");r.textContent=Oa,document.head.appendChild(r);let s=!0,i=!1;const a=document.createElement("div");a.className="sb-devtools-wrapper";const c=document.createElement("button");c.className="sb-devtools-trigger",c.setAttribute("aria-label","Storyboard DevTools"),c.innerHTML=Ra;const l=document.createElement("div");l.className="sb-devtools-menu";const d=document.createElement("button");d.className="sb-devtools-menu-item",d.innerHTML=`${La} Viewfinder`;const u=document.createElement("button");u.className="sb-devtools-menu-item",u.innerHTML=`${Pa} Show scene info`;const p=document.createElement("button");p.className="sb-devtools-menu-item",p.innerHTML=`${$a} Reset all params`;const x=document.createElement("button");x.className="sb-devtools-menu-item";function C(){const w=$e();x.innerHTML=`${w?za:Da} ${w?"Show mode":"Hide mode"}`}C();const j=document.createElement("div");j.className="sb-devtools-hint",j.innerHTML="Press <code>⌘ + .</code> to hide",l.appendChild(d),l.appendChild(u),l.appendChild(p),l.appendChild(x);function m(){l.querySelectorAll("[data-sb-comment-menu-item]").forEach(w=>w.remove()),tn()&&be(async()=>{const{getCommentsMenuItems:w}=await import("./CommentOverlay-yTA5TfzK.js");return{getCommentsMenuItems:w}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({getCommentsMenuItems:w})=>{const $=w(),B=j;for(const q of $){const W=document.createElement("button");W.className="sb-devtools-menu-item",W.setAttribute("data-sb-comment-menu-item",""),W.innerHTML=`<span style="width:16px;height:16px;display:flex;align-items:center;justify-content:center;">${q.icon}</span> ${q.label}`,W.addEventListener("click",()=>{i=!1,l.classList.remove("open"),q.onClick()}),l.insertBefore(W,B)}})}c.addEventListener("click",()=>{m(),C()}),l.appendChild(j),a.appendChild(l),a.appendChild(c),t.appendChild(a);let h=null;function v(){i=!1,l.classList.remove("open"),h&&h.remove();const w=Ba();let $="",B=null;try{$=JSON.stringify(ln(w),null,2)}catch(se){B=se.message}h=document.createElement("div"),h.className="sb-devtools-overlay";const q=document.createElement("div");q.className="sb-devtools-backdrop",q.addEventListener("click",_);const W=document.createElement("div");W.className="sb-devtools-panel";const X=document.createElement("div");X.className="sb-devtools-panel-header",X.innerHTML=`<span class="sb-devtools-panel-title">Scene: ${w}</span>`;const re=document.createElement("button");re.className="sb-devtools-panel-close",re.setAttribute("aria-label","Close panel"),re.innerHTML=Ma,re.addEventListener("click",_),X.appendChild(re);const Q=document.createElement("div");if(Q.className="sb-devtools-panel-body",B)Q.innerHTML=`<span class="sb-devtools-error">${B}</span>`;else{const se=document.createElement("pre");se.className="sb-devtools-code",se.textContent=$,Q.appendChild(se)}W.appendChild(X),W.appendChild(Q),h.appendChild(q),h.appendChild(W),t.appendChild(h)}function _(){h&&(h.remove(),h=null)}c.addEventListener("click",()=>{i=!i,l.classList.toggle("open",i)}),u.addEventListener("click",v),d.addEventListener("click",()=>{i=!1,l.classList.remove("open"),window.location.href=n+"viewfinder"}),p.addEventListener("click",()=>{window.location.hash="",i=!1,l.classList.remove("open")}),x.addEventListener("click",()=>{$e()?ho():po(),C(),i=!1,l.classList.remove("open")}),document.addEventListener("click",w=>{i&&!a.contains(w.target)&&(i=!1,l.classList.remove("open"))}),window.addEventListener("keydown",w=>{w.key==="."&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),s=!s,a.style.display=s?"":"none",s||(i=!1,l.classList.remove("open"),_()))})}function Fa(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return Math.abs(t)}function Ua(e,t=[]){for(const n of t)if(n.toLowerCase()===e.toLowerCase())return`/${n}`;try{const n=ln(e),r=n?.sceneMeta?.route||n?.route;if(r)return`${r.startsWith("/")?r:`/${r}`}?scene=${encodeURIComponent(e)}`}catch{}return`/?scene=${encodeURIComponent(e)}`}function qa(e){try{return ln(e)?.sceneMeta||null}catch{return null}}const Wa={sceneMeta:{route:"/Signup",author:"dfosco"},signup:{fullName:"",email:"",password:"",organization:{name:"",size:"",role:""},workspace:{region:"",plan:"starter",newsletter:!1,agreeTerms:!1}}},Ka={sceneMeta:{route:"/reshaped-issues",author:"dfosco"},signup:{fullName:"Jane Doe",organization:{name:"Acme Cloud",size:"11-50",role:"developer"},workspace:{region:"us-east-1",plan:"growth"}}},Va={sceneMeta:{route:"/primer-issues",author:"dfosco"},user:{$ref:"jane-doe"},navigation:{$ref:"navigation"}},Ya={sceneMeta:{route:"/reshaped-issues",author:"dfosco"},user:{$ref:"jane-doe"},navigation:{$ref:"navigation"},projects:[{id:1,name:"primer-react",description:"React components for the Primer Design System",owner:{name:"GitHub",avatar:"https://avatars.githubusercontent.com/u/9919?v=4"},stars:2500,issues:42},{id:2,name:"storyboard",description:"Prototyping meta-framework",owner:{name:"Jane Doe",avatar:"https://avatars.githubusercontent.com/u/1?v=4"},stars:128,issues:7}],settings:{theme:"dark_dimmed",notifications:!0,language:"en"},signup:{fullName:"",email:"",password:"",organization:{name:"",size:"",role:""},workspace:{region:"",plan:"starter",newsletter:!1,agreeTerms:!1}}},Ga={primary:[{label:"Overview",url:"/Overview",icon:"home"},{label:"Issues",url:"/primer-issues",icon:"issue-opened"},{label:"Pull Requests",url:"#",icon:"git-pull-request"},{label:"Discussions",url:"#",icon:"comment-discussion"}],secondary:[{label:"Settings",url:"#",icon:"gear"},{label:"Help",url:"#",icon:"question"}]},Ja={name:"Jane Doe",username:"janedoe",role:"admin",avatar:"https://avatars.githubusercontent.com/u/1?v=4",profile:{bio:"Designer & developer",location:"San Francisco, CA"}},Za=[{id:"refactor-auth-sso",identifier:"FIL-10",title:"Refactor authentication flow to support SSO providers",description:"Our current auth flow only supports email/password login. We need to extend it to support SSO providers (Google, Okta, Azure AD) for enterprise customers.",status:"todo",priority:"high",labels:["Auth","Backend","Feature"],assignee:null,project:null,estimate:5,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-17T10:50:00Z",acceptanceCriteria:["Users can authenticate via Google OAuth 2.0","Users can authenticate via SAML-based SSO (Okta, Azure AD)","Existing email/password flow remains unchanged","Session tokens are issued consistently regardless of auth method","Admin panel includes SSO configuration settings"],technicalNotes:["Use the existing AuthService class as the base","Add a provider strategy pattern to abstract login methods","Store provider metadata in the identity_providers table","Redirect URI callback must handle both web and mobile clients"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"10min ago"}]},{id:"fix-rate-limiter-bypass",identifier:"FIL-9",title:"Fix rate limiter bypass on batch endpoints",description:"The rate limiter can be bypassed by splitting a large request into multiple smaller batch calls. Each sub-request is counted as a single hit instead of being weighted by payload size.",status:"in_progress",priority:"urgent",labels:["Bug","Security","Backend"],assignee:"danielfosco",assigneeAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",project:"Platform Infrastructure",estimate:3,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-16T14:20:00Z",acceptanceCriteria:["Batch endpoints count each item in the payload toward the rate limit","Rate limit headers reflect weighted counts","Existing single-request endpoints are unaffected"],technicalNotes:["Update RateLimiterMiddleware to accept a weight function","Batch controller should pass payload.length as weight","Add integration tests for weighted rate limiting"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"1 day ago"},{type:"comment",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"6 hours ago",body:"Started investigating — the middleware doesn't have access to parsed body at the point it runs. May need to restructure."}]},{id:"add-webhook-retry-logic",identifier:"FIL-8",title:"Add exponential backoff retry logic for webhook deliveries",description:"Webhook deliveries currently fail silently on timeout. We need retry logic with exponential backoff and a dead-letter queue for persistently failing endpoints.",status:"todo",priority:"medium",labels:["Feature","Backend"],assignee:null,project:"Platform Infrastructure",estimate:8,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-15T09:00:00Z",acceptanceCriteria:["Failed webhook deliveries are retried up to 5 times","Retry intervals follow exponential backoff (1s, 2s, 4s, 8s, 16s)","After all retries, the event is moved to a dead-letter queue","Delivery status is visible in the admin dashboard"],technicalNotes:["Use the existing job queue (BullMQ) for retry scheduling","Add a webhook_deliveries table to track attempts","Dead-letter events should be replayable from the admin UI"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"2 days ago"}]},{id:"dashboard-loading-skeleton",identifier:"FIL-7",title:"Add loading skeletons to dashboard widgets",description:"Dashboard widgets show a blank space while data is loading. Add skeleton loaders to improve perceived performance.",status:"done",priority:"low",labels:["Feature","Frontend"],assignee:"danielfosco",assigneeAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",project:"Dashboard",estimate:2,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-12T16:30:00Z",acceptanceCriteria:["All dashboard cards show skeleton loaders while fetching data","Skeleton matches the shape of the loaded content","Transition from skeleton to content is smooth"],technicalNotes:["Use Reshaped Skeleton component","Wrap each StatCard in a loading boundary"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"5 days ago"},{type:"comment",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"3 days ago",body:"Done — merged in FIL-7-skeletons branch."}]},{id:"migrate-env-config",identifier:"FIL-6",title:"Migrate environment config to typed schema validation",description:"Environment variables are currently accessed via raw process.env lookups with no validation. Migrate to a typed config schema using zod so missing or malformed values are caught at startup.",status:"todo",priority:"medium",labels:["Backend","DevEx"],assignee:null,project:null,estimate:3,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-10T11:00:00Z",acceptanceCriteria:["All environment variables are defined in a single config schema","Server fails fast on startup if required variables are missing","Types are inferred from the schema — no manual type assertions"],technicalNotes:["Use zod for schema definition and parsing","Create src/config.ts as the single source of truth","Replace all process.env.X references with config.X"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"1 week ago"}]}],Er={signup:Wa,"issues-reshaped":Ka,"issues-primer":Va,default:Ya},Xa={navigation:Ga,"jane-doe":Ja},Qa={issues:Za};wa({scenes:Er,objects:Xa,records:Qa});const Ar=k.createContext(null);function ec(e){const t=e.replace(/\/+$/,"")||"/";return t==="/"?"index":t.split("/").pop()||"index"}function tc({sceneName:e,recordName:t,recordParam:n,children:r}){const s=Xs(),i=new URLSearchParams(s.search).get("scene"),a=ec(s.pathname),c=i||e||(_a(a)?a:"default"),l=Qs(),{data:d,error:u}=k.useMemo(()=>{try{let x=ln(c);if(t&&n&&l[n]){const C=ja(t,l[n]);C&&(x=Gt(x,{record:C}))}return{data:x,error:null}}catch(x){return{data:null,error:x.message}}},[c,t,n,l,s.pathname]),p={data:d,error:u,loading:!1,sceneName:c};return u?o.jsxs("span",{style:{color:"var(--fgColor-danger, #f85149)"},children:["Error loading scene: ",u]}):o.jsx(Ar.Provider,{value:p,children:r})}function G(e){const t=k.useContext(Ar);if(t===null)throw new Error("useSceneData must be used within a <StoryboardProvider>");const{data:n,loading:r,error:s}=t,i=k.useSyncExternalStore(gn,Cr),a=k.useSyncExternalStore(lo,fo);return k.useMemo(()=>{if(r||s||n==null)return;const l=$e(),d=l?bo:ao,u=l?Sa:co;if(!e){const h=u(),v=Object.keys(h);if(v.length===0)return n;const _=At(n);for(const w of v)Jt(_,w,h[w]);return _}const p=d(e);if(p!==null)return p;const x=e+".",C=u(),j=Object.keys(C).filter(h=>h.startsWith(x)),m=oo(n,e);if(j.length>0&&m!==void 0){const h=At(m);for(const v of j){const _=v.slice(x.length);Jt(h,_,C[v])}return h}return m===void 0?(console.warn(`[useSceneData] Path "${e}" not found in scene data.`),{}):m},[n,r,s,e,i,a])}function T(e){const t=k.useContext(Ar);if(t===null)throw new Error("useOverride must be used within a <StoryboardProvider>");const{data:n}=t,r=$e(),s=n!=null?oo(n,e):void 0,i=k.useCallback(()=>ao(e),[e]),a=k.useSyncExternalStore(gn,i);k.useSyncExternalStore(lo,fo);let c;if(r){const u=bo(e);c=u!==null?u:s}else c=a!==null?a:s;const l=k.useCallback(u=>{$e()||et(e,u),ms(e,u)},[e]),d=k.useCallback(()=>{$e()||Zt(e),gs(e)},[e]);return[c,l,d]}function xo(e,t){const n=co(),r=`record.${t}.`,s=Object.keys(n).filter(c=>c.startsWith(r));if(s.length===0)return e;const i=At(e),a={};for(const c of s){const l=c.slice(r.length),d=l.indexOf(".");if(d===-1)continue;const u=l.slice(0,d),p=l.slice(d+1);a[u]||(a[u]={}),a[u][p]=n[c]}for(const[c,l]of Object.entries(a)){const d=i.find(u=>u.id===c);if(d)for(const[u,p]of Object.entries(l))Jt(d,u,p);else{const u={id:c};for(const[p,x]of Object.entries(l))Jt(u,p,x);i.push(u)}}return i}function vo(e,t="id"){const r=Qs()[t],s=k.useSyncExternalStore(gn,Cr);return k.useMemo(()=>{if(!r)return null;try{const i=wr(e);return xo(i,e).find(c=>c[t]===r)??null}catch(i){return console.error(`[useRecord] ${i.message}`),null}},[e,t,r,s])}function yo(e){const t=k.useSyncExternalStore(gn,Cr);return k.useMemo(()=>{try{const n=wr(e);return xo(n,e)}catch(n){return console.error(`[useRecords] ${n.message}`),[]}},[e,t])}function ke(e,t,n){return T(`record.${e}.${t}.${n}`)}function nc(e,t=""){const n=t.replace(/\/+$/,"");document.addEventListener("click",s=>{if(s.metaKey||s.ctrlKey||s.shiftKey||s.altKey)return;const i=s.target.closest("a[href]");if(!i||i.target==="_blank")return;const a=new URL(i.href,window.location.origin);if(a.origin!==window.location.origin)return;const c=window.location.hash,l=c&&c!=="#",u=a.hash&&a.hash!=="#"?a.hash:l?c:"";let p=a.pathname;n&&p.startsWith(n)&&(p=p.slice(n.length)||"/"),s.preventDefault(),e.navigate(p+a.search+u),setTimeout(en,0)});const r=e.navigate.bind(e);e.navigate=(s,i)=>{const a=window.location.hash;return a&&a!=="#"&&typeof s=="string"&&!s.includes("#")&&(s=s+a),r(s,i).then(l=>(en(),l))}}k.createContext(null);const rc="_container_16yqd_1",sc="_header_16yqd_8",oc="_title_16yqd_13",ic="_subtitle_16yqd_21",ac="_grid_16yqd_27",cc="_card_16yqd_35",lc="_thumbnail_16yqd_52",dc="_cardBody_16yqd_72",uc="_sceneName_16yqd_77",fc="_empty_16yqd_84",pc="_sectionTitle_16yqd_93",hc="_branchSection_16yqd_103",mc="_branchMeta_16yqd_107",gc="_author_16yqd_114",bc="_authorAvatar_16yqd_121",xc="_authorName_16yqd_127",D={container:rc,header:sc,title:oc,subtitle:ic,grid:ac,card:cc,thumbnail:lc,cardBody:dc,sceneName:uc,empty:fc,sectionTitle:pc,branchSection:hc,branchMeta:mc,author:gc,authorAvatar:bc,authorName:xc};function vs({name:e}){const t=Fa(e),n=[];for(let s=0;s<12;s++){const i=t*(s+1),a=(i*7+s*31)%320,c=(i*13+s*17)%200,l=20+i*(s+3)%80,d=8+i*(s+7)%40,u=.06+i*(s+2)%20/100,p=s%3===0?"var(--placeholder-accent)":s%3===1?"var(--placeholder-fg)":"var(--placeholder-muted)";n.push(o.jsx("rect",{x:a,y:c,width:l,height:d,rx:2,fill:p,opacity:u},s))}const r=[];for(let s=0;s<6;s++){const a=10+t*(s+5)%180;r.push(o.jsx("line",{x1:0,y1:a,x2:320,y2:a,stroke:"var(--placeholder-grid)",strokeWidth:.5,opacity:.4},`h${s}`))}for(let s=0;s<8;s++){const a=10+t*(s+9)%300;r.push(o.jsx("line",{x1:a,y1:0,x2:a,y2:200,stroke:"var(--placeholder-grid)",strokeWidth:.5,opacity:.3},`v${s}`))}return o.jsxs("svg",{viewBox:"0 0 320 200",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[o.jsx("rect",{width:"320",height:"200",fill:"var(--placeholder-bg)"}),r,n]})}function wo({scenes:e={},pageModules:t={},basePath:n,title:r="Viewfinder"}){const[s,i]=k.useState(null),a=k.useMemo(()=>Object.keys(e),[e]),c=k.useMemo(()=>Object.keys(t).map(d=>d.replace("/src/pages/","").replace(".jsx","")).filter(d=>!d.startsWith("_")&&d!=="index"&&d!=="viewfinder"),[t]),l=k.useMemo(()=>(n||"/storyboard-source/").replace(/\/[^/]*\/$/,"/"),[n]);return k.useEffect(()=>{const d=`${l}branches.json`;fetch(d).then(u=>u.ok?u.json():[]).then(u=>i(Array.isArray(u)?u:[])).catch(()=>i([]))},[l]),o.jsxs("div",{className:D.container,children:[o.jsxs("header",{className:D.header,children:[o.jsx("h1",{className:D.title,children:r}),o.jsxs("p",{className:D.subtitle,children:[a.length," scene",a.length!==1?"s":"",s&&s.length>0?` · ${s.length} branch preview${s.length!==1?"s":""}`:""]})]}),a.length===0?o.jsxs("p",{className:D.empty,children:["No scenes found. Add a ",o.jsx("code",{children:"*.scene.json"})," file to get started."]}):o.jsxs("section",{children:[o.jsx("h2",{className:D.sectionTitle,children:"Scenes"}),o.jsx("div",{className:D.grid,children:a.map(d=>{const u=qa(d);return o.jsxs("a",{href:Ua(d,c),className:D.card,children:[o.jsx("div",{className:D.thumbnail,children:o.jsx(vs,{name:d})}),o.jsxs("div",{className:D.cardBody,children:[o.jsx("p",{className:D.sceneName,children:d}),u?.author&&o.jsxs("div",{className:D.author,children:[o.jsx("img",{src:`https://github.com/${u.author}.png?size=32`,alt:u.author,className:D.authorAvatar}),o.jsx("span",{className:D.authorName,children:u.author})]})]})]},d)})})]}),s&&s.length>0&&o.jsxs("section",{className:D.branchSection,children:[o.jsx("h2",{className:D.sectionTitle,children:"Branch Previews"}),o.jsx("div",{className:D.grid,children:s.map(d=>o.jsxs("a",{href:`${l}${d.folder}/`,className:D.card,children:[o.jsx("div",{className:D.thumbnail,children:o.jsx(vs,{name:d.branch})}),o.jsxs("div",{className:D.cardBody,children:[o.jsx("p",{className:D.sceneName,children:d.branch}),o.jsx("p",{className:D.branchMeta,children:d.folder})]})]},d.folder))})]})]})}function vc(){return o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"var(--bgColor-default, #0d1117)"},children:[o.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",style:{animation:"spin 0.8s linear infinite"},children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"var(--fgColor-muted, #484f58)",strokeWidth:"2.5",opacity:"0.25"}),o.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"var(--fgColor-default, #e6edf3)",strokeWidth:"2.5",strokeLinecap:"round"})]}),o.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg) } }"})]})}function yc(){return o.jsx(tc,{children:o.jsx(k.Suspense,{fallback:o.jsx(vc,{}),children:o.jsx(eo,{})})})}const Ir=Object.freeze(Object.defineProperty({__proto__:null,default:yc},Symbol.toStringTag,{value:"Module"})),wc="_navItem_ec50i_1",_c="_active_ec50i_16",ys={navItem:wc,active:_c},jc=[{label:"Overview",path:"/Dashboard"},{label:"Issues",path:"/reshaped-issues"},{label:"Projects",path:"/Dashboard"},{label:"Views",path:"/Dashboard"}];function kn(e){return typeof e=="string"?e:""}function nn({orgName:e,activePage:t,userInfo:n}){const r=dr();return o.jsx(Ee,{padding:4,children:o.jsxs(f,{direction:"column",gap:2,children:[o.jsx(b,{variant:"featured-3",weight:"bold",children:kn(e)||"—"}),o.jsx(xe,{}),o.jsx("nav",{children:o.jsx(f,{direction:"column",gap:0,children:jc.map(s=>o.jsx("button",{type:"button",className:`${ys.navItem} ${t===s.label?ys.active:""}`,onClick:()=>r(s.path),children:o.jsx(b,{variant:"body-3",weight:t===s.label?"bold":"regular",children:s.label})},s.label))})}),n&&o.jsxs(o.Fragment,{children:[o.jsx(xe,{}),o.jsxs(f,{direction:"column",gap:1,paddingTop:1,children:[o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:kn(n.name)||"—"}),o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:kn(n.role)||"—"})]})]})]})})}function Ye(e){return e==null||e===""||typeof e=="object"?"—":String(e)}function Mt({label:e,value:t,change:n,color:r}){return o.jsx(Ee,{padding:5,children:o.jsxs(f,{direction:"column",gap:2,children:[o.jsx(b,{variant:"body-3",color:"neutral-faded",children:e}),o.jsx(b,{variant:"featured-2",weight:"bold",children:t}),o.jsx(b,{variant:"caption-1",color:r||"positive",children:n})]})})}function mt({label:e,value:t,max:n,color:r}){return o.jsxs(f,{direction:"column",gap:1,children:[o.jsxs(f,{direction:"row",justify:"space-between",children:[o.jsx(b,{variant:"body-3",children:e}),o.jsx(b,{variant:"body-3",weight:"medium",children:t})]}),o.jsx(la,{value:typeof n=="number"?parseFloat(t)/n*100:parseFloat(t),color:r,size:"small",attributes:{"aria-label":e}})]})}const Cc=[{label:"Team standup",time:"Today, 10:00"},{label:"Architecture review",time:"Today, 11:30"},{label:"Lunch",time:"Today, 12:30"},{label:"Sprint planning",time:"Today, 14:00"},{label:"Deploy v2.4",time:"Today, 17:00"}];function Sc(){const e=G("signup.fullName"),t=G("signup.organization.name"),n=G("signup.organization.size"),r=G("signup.organization.role"),s=G("signup.workspace.region"),i=G("signup.workspace.plan");return o.jsx(St,{defaultTheme:"reshaped",defaultColorMode:"dark",children:o.jsx(f,{backgroundColor:"page",minHeight:"100vh",padding:12,children:o.jsxs(f,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[o.jsx(f.Item,{columns:2,children:o.jsx(nn,{orgName:Ye(t),activePage:"Overview",userInfo:{name:Ye(e),role:Ye(r)}})}),o.jsx(f.Item,{columns:10,direction:"column",align:"center",justify:"center",children:o.jsxs(f,{direction:"column",maxWidth:"80%",gap:4,children:[o.jsxs(f,{direction:"row",justify:"space-between",align:"center",children:[o.jsx(b,{variant:"featured-2",weight:"bold",children:"Overview"}),o.jsxs(f,{direction:"row",gap:2,align:"center",children:[o.jsxs(Et,{color:"positive",children:[Ye(i)," plan"]}),o.jsx(Et,{variant:"faded",children:Ye(s)})]})]}),o.jsxs(f,{direction:"row",gap:3,children:[o.jsx(f.Item,{columns:3,children:o.jsx(Mt,{label:"Active Users",value:"0",change:"No data yet",color:"neutral-faded"})}),o.jsx(f.Item,{columns:3,children:o.jsx(Mt,{label:"Deployments",value:"0",change:"No data yet",color:"neutral-faded"})}),o.jsx(f.Item,{columns:3,children:o.jsx(Mt,{label:"New Members",value:"1",change:"That's you!",color:"primary"})}),o.jsx(f.Item,{columns:3,children:o.jsx(Mt,{label:"Team Size",value:Ye(n),change:"Current plan capacity",color:"primary"})})]}),o.jsxs(f,{direction:"row",gap:4,children:[o.jsx(f.Item,{columns:5,children:o.jsxs(f,{direction:"column",gap:4,children:[o.jsx(Ee,{padding:4,children:o.jsx(ca,{})}),o.jsx(Ee,{padding:5,children:o.jsxs(f,{direction:"column",gap:3,children:[o.jsx(b,{variant:"body-2",weight:"bold",children:"Schedule"}),o.jsx(f,{direction:"column",gap:2,children:Cc.map(a=>o.jsx(Hn,{name:`schedule-${a.label}`,children:o.jsxs(f,{direction:"column",children:[o.jsx(b,{variant:"body-3",children:a.label}),o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:a.time})]})},a.label))})]})})]})}),o.jsx(f.Item,{grow:!0,children:o.jsxs(f,{direction:"column",gap:4,children:[o.jsx(Ee,{padding:5,children:o.jsxs(f,{direction:"column",gap:4,children:[o.jsx(b,{variant:"body-2",weight:"bold",children:"Metrics"}),o.jsx(mt,{label:"Performance",value:"0",max:100,color:"neutral-faded"}),o.jsx(mt,{label:"Monthly revenue goal",value:"0",max:100,color:"neutral-faded"}),o.jsx(mt,{label:"Error rate",value:"0",max:100,color:"neutral-faded"}),o.jsx(mt,{label:"User acquisition",value:"0",max:100,color:"neutral-faded"}),o.jsx(mt,{label:"Releases shipped",value:"0",max:100,color:"neutral-faded"})]})}),o.jsx(Ee,{padding:5,children:o.jsxs(f,{direction:"column",gap:3,children:[o.jsx(b,{variant:"body-2",weight:"bold",children:"Recent activity"}),o.jsx(xe,{}),o.jsxs(f,{direction:"column",gap:4,align:"center",paddingBlock:6,children:[o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"No activity yet"}),o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:"Deployments and events will appear here once your workspace is active."})]})]})})]})})]})]})})]})})})}const Tr=Object.freeze(Object.defineProperty({__proto__:null,default:Sc},Symbol.toStringTag,{value:"Module"})),Nn=["Account","Organization","Workspace","Review"];function je(e){return typeof e=="string"?e:""}function ws(e){return e===!0||e==="true"}function zt({name:e,defaultValue:t,onCommit:n,...r}){const s=k.useRef(t);return o.jsx(Ge,{name:e,defaultValue:t,onChange:({value:i})=>{s.current=i},onBlur:()=>n(s.current),...r})}function Ec(){const e=dr(),[t,n]=T("signup.step"),r=Math.min(Math.max(parseInt(t,10)||0,0),Nn.length-1),s=N=>{const V=typeof N=="function"?N(r):N;n(String(V))},[i,a,c]=T("signup.errors.fullName"),[l,d,u]=T("signup.errors.email"),[p,x,C]=T("signup.errors.password"),[j,m,h]=T("signup.errors.orgName"),[v,_,w]=T("signup.errors.orgSize"),[$,B,q]=T("signup.errors.role"),[W,X,re]=T("signup.errors.region"),[Q,se,$t]=T("signup.errors.plan"),[We,y,A]=T("signup.errors.agreeTerms"),g={fullName:i,email:l,password:p,orgName:j,orgSize:v,role:$,region:W,plan:Q,agreeTerms:We},E={fullName:a,email:d,password:x,orgName:m,orgSize:_,role:B,region:X,plan:se,agreeTerms:y},L={fullName:c,email:u,password:C,orgName:h,orgSize:w,role:q,region:re,plan:$t,agreeTerms:A},I=()=>Object.values(L).forEach(N=>N()),K=N=>{I(),Object.entries(N).forEach(([V,aa])=>E[V]?.(aa))},[R,O]=T("signup.fullName"),[H,oe]=T("signup.email"),[Ke,Z]=T("signup.password"),[pe,Ve]=T("signup.organization.name"),[ie,ht]=T("signup.organization.size"),[_e,En]=T("signup.organization.role"),[os,ea]=T("signup.workspace.region"),[is,ta]=T("signup.workspace.plan"),[as,na]=T("signup.workspace.newsletter"),[cs,ra]=T("signup.workspace.agreeTerms"),P=k.useMemo(()=>({fullName:je(R),email:je(H),password:je(Ke),orgName:je(pe),orgSize:je(ie),role:je(_e),region:je(os),plan:je(is)||"starter",newsletter:ws(as),agreeTerms:ws(cs)}),[R,H,Ke,pe,ie,_e,os,is,as,cs]);function ls(N){const V={};return N===0&&(P.fullName.trim()||(V.fullName="Full name is required."),P.email.trim()||(V.email="Email is required."),P.password.trim()||(V.password="Password is required.")),N===1&&(P.orgName.trim()||(V.orgName="Organization name is required."),P.orgSize.trim()||(V.orgSize="Organization size is required."),P.role.trim()||(V.role="Role is required.")),N===2&&(P.region.trim()||(V.region="Region is required."),P.plan.trim()||(V.plan="Plan is required."),P.agreeTerms||(V.agreeTerms="You must accept terms to continue.")),K(V),Object.keys(V).length===0}function sa(){ls(r)&&s(N=>Math.min(N+1,Nn.length-1))}function oa(){K({}),s(N=>Math.max(N-1,0))}function ia(){if(!ls(2)){s(2);return}e("/Dashboard")}return o.jsx(St,{defaultTheme:"reshaped",defaultColorMode:"dark",children:o.jsx(f,{backgroundColor:"page",minHeight:"100vh",padding:6,align:"center",justify:"center",children:o.jsxs(f,{maxWidth:"560px",width:"100%",direction:"column",gap:6,children:[o.jsxs(f,{direction:"column",gap:2,children:[o.jsx(b,{variant:"featured-1",weight:"bold",children:"Create your cloud account"}),o.jsx(b,{variant:"body-2",color:"neutral-faded",children:"Complete the onboarding flow to configure your account and organization."})]}),o.jsx(ds,{activeId:String(r),children:Nn.map((N,V)=>o.jsx(ds.Item,{id:String(V),title:N,completed:V<r,subtitle:`Step ${V+1}`},N))}),o.jsx(Ee,{padding:6,children:o.jsxs(f,{direction:"column",gap:5,children:[r===0&&o.jsxs(o.Fragment,{children:[o.jsxs(S,{hasError:!!g.fullName,children:[o.jsx(S.Label,{children:"Full name"}),o.jsx(zt,{name:"fullName",defaultValue:P.fullName,placeholder:"Jane Doe",onCommit:O}),g.fullName&&o.jsx(S.Error,{children:g.fullName})]}),o.jsxs(S,{hasError:!!g.email,children:[o.jsx(S.Label,{children:"Email"}),o.jsx(zt,{name:"email",defaultValue:P.email,placeholder:"jane@acme.cloud",onCommit:oe}),g.email&&o.jsx(S.Error,{children:g.email})]}),o.jsxs(S,{hasError:!!g.password,children:[o.jsx(S.Label,{children:"Password"}),o.jsx(zt,{name:"password",defaultValue:P.password,onCommit:Z,inputAttributes:{type:"password"}}),g.password&&o.jsx(S.Error,{children:g.password})]})]}),r===1&&o.jsxs(o.Fragment,{children:[o.jsxs(S,{hasError:!!g.orgName,children:[o.jsx(S.Label,{children:"Organization name"}),o.jsx(zt,{name:"orgName",defaultValue:P.orgName,placeholder:"Acme Cloud",onCommit:Ve}),g.orgName&&o.jsx(S.Error,{children:g.orgName})]}),o.jsxs(S,{hasError:!!g.orgSize,children:[o.jsx(S.Label,{children:"Organization size"}),o.jsxs(Ze,{name:"orgSize",value:P.orgSize,placeholder:"Select size",onChange:({value:N})=>ht(N),children:[o.jsx("option",{value:"1-10",children:"1–10 employees"}),o.jsx("option",{value:"11-50",children:"11–50 employees"}),o.jsx("option",{value:"51-250",children:"51–250 employees"}),o.jsx("option",{value:"251+",children:"251+ employees"})]}),g.orgSize&&o.jsx(S.Error,{children:g.orgSize})]}),o.jsxs(S,{hasError:!!g.role,children:[o.jsx(S.Label,{children:"Your role"}),o.jsxs(Ze,{name:"role",value:P.role,placeholder:"Select role",onChange:({value:N})=>En(N),children:[o.jsx("option",{value:"founder",children:"Founder"}),o.jsx("option",{value:"engineering-manager",children:"Engineering Manager"}),o.jsx("option",{value:"developer",children:"Developer"}),o.jsx("option",{value:"platform-admin",children:"Platform Admin"})]}),g.role&&o.jsx(S.Error,{children:g.role})]})]}),r===2&&o.jsxs(o.Fragment,{children:[o.jsxs(S,{hasError:!!g.region,children:[o.jsx(S.Label,{children:"Primary region"}),o.jsxs(Ze,{name:"region",value:P.region,placeholder:"Select region",onChange:({value:N})=>ea(N),children:[o.jsx("option",{value:"us-east-1",children:"US East"}),o.jsx("option",{value:"us-west-2",children:"US West"}),o.jsx("option",{value:"eu-west-1",children:"EU West"}),o.jsx("option",{value:"ap-southeast-1",children:"AP Southeast"})]}),g.region&&o.jsx(S.Error,{children:g.region})]}),o.jsxs(S,{hasError:!!g.plan,children:[o.jsx(S.Label,{children:"Starting plan"}),o.jsxs(Ze,{name:"plan",value:P.plan,onChange:({value:N})=>ta(N),children:[o.jsx("option",{value:"starter",children:"Starter"}),o.jsx("option",{value:"growth",children:"Growth"}),o.jsx("option",{value:"enterprise",children:"Enterprise"})]}),g.plan&&o.jsx(S.Error,{children:g.plan})]}),o.jsx(Hn,{name:"newsletter",checked:P.newsletter,onChange:({checked:N})=>na(N?"true":"false"),children:"Email me product updates and onboarding tips"}),o.jsxs(S,{hasError:!!g.agreeTerms,children:[o.jsx(Hn,{name:"agreeTerms",checked:P.agreeTerms,onChange:({checked:N})=>ra(N?"true":"false"),children:"I agree to the Terms of Service and Privacy Policy"}),g.agreeTerms&&o.jsx(S.Error,{children:g.agreeTerms})]})]}),r===3&&o.jsxs(f,{direction:"column",gap:4,children:[o.jsx(b,{variant:"featured-3",weight:"bold",children:"Review your configuration"}),o.jsxs(f,{direction:"column",gap:3,children:[o.jsxs(f,{direction:"row",align:"center",children:[o.jsx(f.Item,{columns:4,children:o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"Name"})}),o.jsx(f.Item,{grow:!0,children:o.jsx(b,{variant:"body-2",children:P.fullName})})]}),o.jsxs(f,{direction:"row",align:"center",children:[o.jsx(f.Item,{columns:4,children:o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"Email"})}),o.jsx(f.Item,{grow:!0,children:o.jsx(b,{variant:"body-2",children:P.email})})]}),o.jsxs(f,{direction:"row",align:"center",children:[o.jsx(f.Item,{columns:4,children:o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"Organization"})}),o.jsx(f.Item,{grow:!0,children:o.jsx(b,{variant:"body-2",children:P.orgName})})]}),o.jsxs(f,{direction:"row",align:"center",children:[o.jsx(f.Item,{columns:4,children:o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"Team size"})}),o.jsx(f.Item,{grow:!0,children:o.jsx(b,{variant:"body-2",children:P.orgSize})})]}),o.jsxs(f,{direction:"row",align:"center",children:[o.jsx(f.Item,{columns:4,children:o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"Role"})}),o.jsx(f.Item,{grow:!0,children:o.jsx(b,{variant:"body-2",children:P.role})})]}),o.jsxs(f,{direction:"row",align:"center",children:[o.jsx(f.Item,{columns:4,children:o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"Region"})}),o.jsx(f.Item,{grow:!0,children:o.jsx(b,{variant:"body-2",children:P.region})})]}),o.jsxs(f,{direction:"row",align:"center",children:[o.jsx(f.Item,{columns:4,children:o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"Plan"})}),o.jsx(f.Item,{grow:!0,children:o.jsx(b,{variant:"body-2",children:P.plan})})]}),o.jsxs(f,{direction:"row",align:"center",children:[o.jsx(f.Item,{columns:4,children:o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"Newsletter"})}),o.jsx(f.Item,{grow:!0,children:o.jsx(b,{variant:"body-2",children:P.newsletter?"Yes":"No"})})]})]})]}),o.jsxs(f,{direction:"row",justify:"end",gap:3,children:[r>0&&o.jsx(ve,{variant:"ghost",onClick:oa,children:"Back"}),r<3&&o.jsx(ve,{color:"primary",onClick:sa,children:"Continue"}),r===3&&o.jsx(ve,{color:"primary",onClick:ia,children:"Create account"})]})]})})]})})})}const kr=Object.freeze(Object.defineProperty({__proto__:null,default:Ec},Symbol.toStringTag,{value:"Module"})),Ac=Object.assign({"/src/pages/Dashboard.jsx":()=>be(()=>Promise.resolve().then(()=>Tr),void 0),"/src/pages/Signup.jsx":()=>be(()=>Promise.resolve().then(()=>kr),void 0),"/src/pages/_app.jsx":()=>be(()=>Promise.resolve().then(()=>Ir),void 0),"/src/pages/viewfinder.jsx":()=>be(()=>Promise.resolve().then(()=>Ao),void 0)});function Ic(){return o.jsx(wo,{scenes:Er,pageModules:Ac,basePath:"/storyboard/branch--dfosco/"})}const _o=Object.freeze(Object.defineProperty({__proto__:null,default:Ic},Symbol.toStringTag,{value:"Module"}));var On={exports:{}},Rn,_s;function Tc(){if(_s)return Rn;_s=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rn=e,Rn}var Pn,js;function kc(){if(js)return Pn;js=1;var e=Tc();function t(){}function n(){}return n.resetWarningCache=t,Pn=function(){function r(a,c,l,d,u,p){if(p!==e){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Pn}var Cs;function Nc(){return Cs||(Cs=1,On.exports=kc()()),On.exports}var Oc=Nc();const he=da(Oc),Rc="_header_1282e_1",Pc="_headerContent_1282e_8",$c="_titleWrapper_1282e_17",Lc="_separator_1282e_21",Mc="_subtitle_1282e_25",gt={header:Rc,headerContent:Pc,titleWrapper:$c,separator:Lc,subtitle:Mc},zc=[{icon:ur,label:"Code",current:!0},{icon:ne,label:"Issues",counter:30},{icon:fr,label:"Pull Requests",counter:3},{icon:pr,label:"Discussions"},{icon:hr,label:"Actions"},{icon:mr,label:"Projects",counter:7},{icon:gr,label:"Security",counter:12},{icon:br,label:"Insights"}];function jo({items:e=zc,title:t,subtitle:n}){return o.jsxs(ye,{as:"header",className:gt.header,children:[o.jsxs("div",{className:gt.headerContent,children:[o.jsx(pa,{icon:xa,"aria-label":"Open global navigation menu",unsafeDisableTooltip:!0}),o.jsx(va,{size:32}),o.jsxs(ye,{direction:"horizontal",gap:"condensed",className:gt.titleWrapper,children:[o.jsx("span",{children:t||"title"}),n&&o.jsxs(o.Fragment,{children:[o.jsx(F,{className:gt.separator,children:"/"}),o.jsx(F,{className:gt.subtitle,children:n||"subtitle"})]})]})]}),o.jsx(fs,{"aria-label":"Repository",children:e.map(r=>o.jsx(fs.Item,{icon:r.icon,"aria-current":r.current?"page":void 0,counter:r.counter,href:r.url,children:r.label},r.label))})]})}jo.propTypes={items:he.arrayOf(he.shape({icon:he.elementType,label:he.string.isRequired,current:he.bool,counter:he.number,url:he.string})),title:he.string,subtitle:he.string};const Dc=[{icon:ne,label:"Open issues",url:"#"},{icon:xr,label:"Your issues",url:"#"},{icon:vr,label:"Assigned to you",url:"#",current:!0},{icon:yr,label:"Mentioning you",url:"#"}];function Bc({items:e=Dc}){return o.jsx(An,{"aria-label":"Navigation",children:e.map(t=>o.jsxs(An.Item,{href:t.url,"aria-current":t.current?"page":void 0,children:[t.icon&&o.jsx(An.LeadingVisual,{children:o.jsx(t.icon,{})}),t.label]},t.label))})}const Hc="_wrapper_74lhx_1",Fc="_navigation_74lhx_7",Uc="_main_74lhx_13",qc="_container_74lhx_22",Dt={wrapper:Hc,navigation:Fc,main:Uc,container:qc};function qn({children:e,title:t,subtitle:n,topnav:r,sidenav:s}){return o.jsxs(ye,{className:Dt.container,children:[o.jsx(jo,{title:t,subtitle:n,items:r}),o.jsxs("div",{className:Dt.wrapper,children:[s&&o.jsx("aside",{className:Dt.navigation,children:o.jsx(Bc,{items:s})}),o.jsx("main",{className:Dt.main,children:e})]})]})}const Ss=[{icon:ur,label:"Code",url:"/"},{icon:ne,label:"Issues",counter:10,url:"/primer-issues",current:!0},{icon:fr,label:"Pull Requests",counter:3},{icon:pr,label:"Discussions"},{icon:hr,label:"Actions"},{icon:mr,label:"Projects",counter:7},{icon:gr,label:"Security",counter:12},{icon:br,label:"Insights"}],Es=[{icon:ne,label:"Open issues",url:"/primer-issues"},{icon:xr,label:"Your issues",url:""},{icon:vr,label:"Assigned to you",url:""},{icon:yr,label:"Mentioning you",url:""}],Wc={todo:ne,in_progress:ne,done:so,cancelled:ro},As={todo:"Open",in_progress:"In Progress",done:"Closed",cancelled:"Cancelled"},Kc={urgent:"Urgent",high:"High",medium:"Medium",low:"Low"};function Vc(){const e=vo("issues","id");if(G("user"),!e)return o.jsx(qn,{title:"Primer",subtitle:"React",topnav:Ss,sidenav:Es,children:o.jsxs("div",{style:{textAlign:"center",padding:"var(--base-size-64) var(--base-size-16)"},children:[o.jsx("h2",{children:"Issue not found"}),o.jsx("p",{style:{color:"var(--fgColor-muted)",marginTop:"var(--base-size-8)"},children:"The issue you're looking for doesn't exist."}),o.jsx(ot,{to:"/primer-issues",style:{color:"var(--fgColor-accent)"},children:"← Back to all issues"})]})});const t=Wc[e.status]||ne,n=e.status==="done"||e.status==="cancelled";return o.jsx(qn,{title:"Primer",subtitle:"React",topnav:Ss,sidenav:Es,children:o.jsxs("div",{style:{display:"flex",gap:"var(--base-size-32)",alignItems:"flex-start",maxWidth:960},children:[o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--base-size-8)",marginBottom:"var(--base-size-16)",fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)"},children:[o.jsx(ot,{to:"/primer-issues",style:{color:"var(--fgColor-muted)",textDecoration:"none"},children:"Issues"}),o.jsx("span",{children:"›"}),o.jsx("span",{children:e.identifier})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--base-size-8)",marginBottom:"var(--base-size-8)"},children:[o.jsx("span",{style:{color:n?"var(--fgColor-done)":"var(--fgColor-success)"},children:o.jsx(t,{size:24})}),o.jsx("h1",{style:{fontSize:"var(--text-title-size-medium)",fontWeight:600,margin:0},children:e.title})]}),o.jsx("div",{style:{marginBottom:"var(--base-size-16)"},children:o.jsx(to,{status:n?"issueClosed":"issueOpened",children:As[e.status]||e.status})}),e.description&&o.jsx("p",{style:{color:"var(--fgColor-muted)",marginBottom:"var(--base-size-24)",lineHeight:1.5},children:e.description}),e.acceptanceCriteria?.length>0&&o.jsxs("div",{style:{marginBottom:"var(--base-size-24)"},children:[o.jsx("h3",{style:{fontSize:"var(--text-body-size-medium)",fontWeight:600,marginBottom:"var(--base-size-8)"},children:"Acceptance Criteria"}),o.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"var(--fgColor-default)"},children:e.acceptanceCriteria.map((r,s)=>o.jsx("li",{style:{marginBottom:"var(--base-size-4)",lineHeight:1.5},children:r},s))})]}),e.technicalNotes?.length>0&&o.jsxs("div",{style:{marginBottom:"var(--base-size-24)"},children:[o.jsx("h3",{style:{fontSize:"var(--text-body-size-medium)",fontWeight:600,marginBottom:"var(--base-size-8)"},children:"Technical Notes"}),o.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"var(--fgColor-default)"},children:e.technicalNotes.map((r,s)=>o.jsx("li",{style:{marginBottom:"var(--base-size-4)",lineHeight:1.5},children:r},s))})]}),o.jsxs("div",{style:{borderTop:"1px solid var(--borderColor-default)",paddingTop:"var(--base-size-16)",marginTop:"var(--base-size-16)"},children:[o.jsx("h3",{style:{fontSize:"var(--text-body-size-medium)",fontWeight:600,marginBottom:"var(--base-size-12)"},children:"Activity"}),o.jsx(ye,{gap:"normal",children:(e.activity||[]).map((r,s)=>o.jsxs("div",{style:{display:"flex",gap:"var(--base-size-12)",alignItems:"flex-start"},children:[o.jsx(Fn,{src:r.avatar,size:32,alt:r.user}),o.jsxs("div",{children:[o.jsx(F,{as:"span",style:{fontWeight:600},children:r.user}),o.jsxs(F,{as:"span",style:{color:"var(--fgColor-muted)"},children:[r.type==="created"&&" created the issue",r.type==="comment"&&":"]}),r.body&&o.jsx("p",{style:{color:"var(--fgColor-muted)",margin:"var(--base-size-4) 0 0",lineHeight:1.5},children:r.body}),o.jsx(F,{as:"span",style:{fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)"},children:r.time})]})]},s))})]})]}),o.jsxs("div",{style:{width:240,flexShrink:0,border:"1px solid var(--borderColor-default)",borderRadius:"var(--borderRadius-medium)",padding:"var(--base-size-16)"},children:[o.jsx(F,{as:"p",style:{fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)",fontWeight:600,marginBottom:"var(--base-size-12)"},children:"Properties"}),o.jsx("div",{style:{borderTop:"1px solid var(--borderColor-default)",paddingTop:"var(--base-size-12)"},children:o.jsxs(ye,{gap:"normal",children:[o.jsxs("div",{children:[o.jsx(F,{as:"p",style:{fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)"},children:"Status"}),o.jsx(F,{as:"p",children:As[e.status]||e.status})]}),o.jsxs("div",{children:[o.jsx(F,{as:"p",style:{fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)"},children:"Priority"}),o.jsx(F,{as:"p",style:{textTransform:"capitalize"},children:Kc[e.priority]||e.priority})]}),o.jsxs("div",{children:[o.jsx(F,{as:"p",style:{fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)"},children:"Assignee"}),e.assignee?o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--base-size-8)"},children:[o.jsx(Fn,{src:e.assigneeAvatar,size:20,alt:e.assignee}),o.jsx(F,{as:"span",children:e.assignee})]}):o.jsx(F,{as:"p",style:{color:"var(--fgColor-muted)"},children:"Unassigned"})]}),o.jsxs("div",{children:[o.jsx(F,{as:"p",style:{fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)"},children:"Labels"}),o.jsx("div",{style:{display:"flex",gap:"var(--base-size-4)",flexWrap:"wrap"},children:(e.labels||[]).map(r=>o.jsx(no,{size:"small",children:r},r))})]}),e.project&&o.jsxs("div",{children:[o.jsx(F,{as:"p",style:{fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)"},children:"Project"}),o.jsx(F,{as:"p",children:e.project})]}),e.estimate&&o.jsxs("div",{children:[o.jsx(F,{as:"p",style:{fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)"},children:"Estimate"}),o.jsxs(F,{as:"p",children:[e.estimate," points"]})]})]})})]})]})})}const Yc=Object.freeze(Object.defineProperty({__proto__:null,default:Vc},Symbol.toStringTag,{value:"Module"})),Gc="_issueRow_138tt_1",Jc={issueRow:Gc},Zc=[{icon:ur,label:"Code",url:"/"},{icon:ne,label:"Issues",counter:10,url:"/primer-issues",current:!0},{icon:fr,label:"Pull Requests",counter:3},{icon:pr,label:"Discussions"},{icon:hr,label:"Actions"},{icon:mr,label:"Projects",counter:7},{icon:gr,label:"Security",counter:12},{icon:br,label:"Insights"}],Xc=[{icon:ne,label:"Open issues",url:"",current:!0},{icon:xr,label:"Your issues",url:""},{icon:vr,label:"Assigned to you",url:""},{icon:yr,label:"Mentioning you",url:""}],Qc={todo:ne,in_progress:ne,done:so,cancelled:ro};function Is({issue:e}){const t=Qc[e.status]||ne,n=e.status==="done"||e.status==="cancelled";return o.jsxs(ot,{to:`/primer-issues/${e.id}`,className:Jc.issueRow,style:{display:"flex",alignItems:"flex-start",gap:"var(--base-size-12)",padding:"var(--base-size-8) var(--base-size-16)",borderBottom:"1px solid var(--borderColor-default)"},children:[o.jsx("span",{style:{paddingTop:2,color:n?"var(--fgColor-done)":"var(--fgColor-success)"},children:o.jsx(t,{size:16})}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx(F,{as:"span",style:{fontWeight:600,fontSize:"var(--text-body-size-medium)"},children:e.title}),o.jsxs("div",{style:{display:"flex",gap:"var(--base-size-4)",marginTop:"var(--base-size-4)",flexWrap:"wrap",alignItems:"center"},children:[o.jsx(F,{as:"span",style:{fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)"},children:e.identifier}),(e.labels||[]).map(r=>o.jsx(no,{size:"small",children:r},r))]})]}),e.assigneeAvatar&&o.jsx(Fn,{src:e.assigneeAvatar,size:20,alt:e.assignee})]})}function el(){G("user");const e=yo("issues"),t=e.filter(r=>r.status!=="done"&&r.status!=="cancelled"),n=e.filter(r=>r.status==="done"||r.status==="cancelled");return o.jsx(qn,{title:"Primer",subtitle:"React",topnav:Zc,sidenav:Xc,children:o.jsxs("div",{style:{maxWidth:960},children:[o.jsxs(ye,{direction:"horizontal",gap:"condensed",align:"center",style:{marginBottom:"var(--base-size-16)"},children:[o.jsxs(to,{status:"issueOpened",children:[t.length," Open"]}),o.jsxs("span",{style:{fontSize:"var(--text-caption-size)",color:"var(--fgColor-muted)",display:"flex",alignItems:"center",gap:"var(--base-size-4)"},children:[o.jsx(ya,{size:16})," ",n.length," Closed"]})]}),o.jsxs("div",{style:{border:"1px solid var(--borderColor-default)",borderRadius:"var(--borderRadius-medium)",overflow:"hidden"},children:[t.map(r=>o.jsx(Is,{issue:r},r.id)),n.map(r=>o.jsx(Is,{issue:r},r.id)),e.length===0&&o.jsx("p",{style:{padding:"var(--base-size-32)",textAlign:"center",color:"var(--fgColor-muted)"},children:"No issues found."})]})]})})}const tl=Object.freeze(Object.defineProperty({__proto__:null,default:el},Symbol.toStringTag,{value:"Module"})),Co={todo:"Todo",in_progress:"In Progress",done:"Done",cancelled:"Cancelled"},So={urgent:"Urgent",high:"High",medium:"Medium",low:"Low"},nl=Object.entries(Co),rl=Object.entries(So);function Eo({prefix:e}){const[t,n]=T(`${e}.title`),[r,s]=T(`${e}.description`),[i,a]=T(`${e}.status`),[c,l]=T(`${e}.priority`),[d,u]=T(`${e}.assignee`),[p,x]=T(`${e}.project`),[C,j]=T(`${e}.estimate`);return o.jsxs(f,{direction:"column",gap:4,children:[o.jsxs(S,{children:[o.jsx(S.Label,{children:"Title"}),o.jsx(Ge,{name:"title",value:t??"",onChange:({value:m})=>n(m)})]}),o.jsxs(S,{children:[o.jsx(S.Label,{children:"Description"}),o.jsx(Ge,{name:"description",multiline:!0,value:r??"",onChange:({value:m})=>s(m),inputAttributes:{rows:3}})]}),o.jsxs(f,{direction:"row",gap:4,children:[o.jsx(f.Item,{grow:!0,children:o.jsxs(S,{children:[o.jsx(S.Label,{children:"Status"}),o.jsx(Ze,{name:"status",value:i??"todo",onChange:({value:m})=>a(m),children:nl.map(([m,h])=>o.jsx("option",{value:m,children:h},m))})]})}),o.jsx(f.Item,{grow:!0,children:o.jsxs(S,{children:[o.jsx(S.Label,{children:"Priority"}),o.jsx(Ze,{name:"priority",value:c??"medium",onChange:({value:m})=>l(m),children:rl.map(([m,h])=>o.jsx("option",{value:m,children:h},m))})]})})]}),o.jsxs(f,{direction:"row",gap:4,children:[o.jsx(f.Item,{grow:!0,children:o.jsxs(S,{children:[o.jsx(S.Label,{children:"Assignee"}),o.jsx(Ge,{name:"assignee",placeholder:"Username",value:d??"",onChange:({value:m})=>u(m)})]})}),o.jsx(f.Item,{grow:!0,children:o.jsxs(S,{children:[o.jsx(S.Label,{children:"Project"}),o.jsx(Ge,{name:"project",placeholder:"Project name",value:p??"",onChange:({value:m})=>x(m)})]})})]}),o.jsxs(S,{children:[o.jsx(S.Label,{children:"Estimate (points)"}),o.jsx(Ge,{name:"estimate",placeholder:"e.g. 5",value:C??"",onChange:({value:m})=>j(m)})]})]})}const sl={Auth:"neutral",Backend:"critical",Feature:"primary",Bug:"critical",Security:"warning",Frontend:"primary",DevEx:"positive"},Bt=["title","description","status","priority","assignee","project","estimate"];function ol({issue:e,active:t,onClose:n}){const r={title:ke("issues",e.id,"title"),description:ke("issues",e.id,"description"),status:ke("issues",e.id,"status"),priority:ke("issues",e.id,"priority"),assignee:ke("issues",e.id,"assignee"),project:ke("issues",e.id,"project"),estimate:ke("issues",e.id,"estimate")},s=()=>{Bt.forEach(c=>{et(`draft.edit.${c}`,e[c]??"")})},i=()=>{const c=new URLSearchParams(window.location.hash.replace(/^#/,""));Bt.forEach(l=>{const[,d]=r[l];d(c.get(`draft.edit.${l}`)??"")}),Bt.forEach(l=>Zt(`draft.edit.${l}`)),n({reason:"save"})},a=()=>{Bt.forEach(c=>Zt(`draft.edit.${c}`)),n({reason:"cancel"})};return o.jsxs(Qe,{active:t,onClose:a,onOpen:s,size:"600px",padding:6,position:"center",children:[o.jsx(Qe.Title,{children:"Edit Issue"}),o.jsx(Qe.Subtitle,{children:e.identifier}),o.jsxs(f,{direction:"column",gap:4,paddingTop:4,children:[o.jsx(Eo,{prefix:"draft.edit"}),o.jsxs(f,{direction:"row",justify:"end",gap:2,paddingTop:2,children:[o.jsx(ve,{variant:"outline",onClick:a,children:"Cancel"}),o.jsx(ve,{color:"primary",onClick:i,children:"Save"})]})]})]})}function Ne(e){return typeof e=="string"?e:""}function il(){const[e,t,n]=T("ui.editModal"),r=e==="true",s=vo("issues","id"),i=G("signup.organization.name"),a=G("signup.fullName"),c=G("signup.organization.role");return s?o.jsx(St,{defaultTheme:"reshaped",defaultColorMode:"dark",children:o.jsx(f,{backgroundColor:"page",minHeight:"100vh",padding:12,children:o.jsxs(f,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[o.jsx(f.Item,{columns:2,children:o.jsx(nn,{orgName:Ne(i),activePage:"Issues",userInfo:{name:Ne(a),role:Ne(c)}})}),o.jsx(f.Item,{grow:!0,children:o.jsxs(f,{direction:"row",gap:8,align:"start",children:[o.jsx(f.Item,{grow:!0,children:o.jsxs(f,{direction:"column",gap:4,maxWidth:"720px",children:[o.jsxs(f,{direction:"row",gap:2,align:"center",justify:"space-between",children:[o.jsxs(f,{direction:"row",gap:2,align:"center",children:[o.jsx(ot,{to:"/reshaped-issues",style:{textDecoration:"none"},children:o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:Ne(i)||"Workspace"})}),o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:"›"}),o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:s.identifier})]}),o.jsx(ve,{variant:"outline",size:"small",onClick:()=>t("true"),children:"Edit issue"})]}),o.jsx(ol,{issue:s,active:r,onClose:()=>n()}),o.jsx(b,{variant:"featured-1",weight:"bold",children:s.title}),s.description&&o.jsx(b,{variant:"body-2",color:"neutral-faded",children:s.description}),s.acceptanceCriteria?.length>0&&o.jsxs(f,{direction:"column",gap:2,children:[o.jsx(b,{variant:"body-2",weight:"bold",children:"Acceptance Criteria"}),o.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:s.acceptanceCriteria.map((l,d)=>o.jsx("li",{style:{marginBottom:"0.5rem"},children:o.jsx(b,{variant:"body-3",children:l})},d))})]}),s.technicalNotes?.length>0&&o.jsxs(f,{direction:"column",gap:2,children:[o.jsx(b,{variant:"body-2",weight:"bold",children:"Technical Notes"}),o.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:s.technicalNotes.map((l,d)=>o.jsx("li",{style:{marginBottom:"0.5rem"},children:o.jsx(b,{variant:"body-3",children:l})},d))})]}),o.jsx(xe,{}),o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:"+ Add sub-issues"}),o.jsx(xe,{}),o.jsxs(f,{direction:"column",gap:3,children:[o.jsx(b,{variant:"body-2",weight:"bold",children:"Activity"}),(s.activity||[]).map((l,d)=>o.jsxs(f,{direction:"row",gap:3,align:"center",children:[o.jsx(us,{src:l.avatar,initials:l.user?.[0]?.toUpperCase(),size:6}),o.jsxs(f,{direction:"column",children:[o.jsxs(b,{variant:"body-3",children:[o.jsx(b,{weight:"medium",children:l.user}),l.type==="created"&&" created the issue",l.type==="comment"&&":"]}),l.body&&o.jsx(b,{variant:"body-3",color:"neutral-faded",children:l.body}),o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:l.time})]})]},d))]})]})}),o.jsx(f.Item,{columns:3,children:o.jsx(Ee,{padding:4,children:o.jsxs(f,{direction:"column",gap:4,children:[o.jsx(b,{variant:"caption-1",color:"neutral-faded",weight:"medium",children:"Properties"}),o.jsx(xe,{}),o.jsxs(f,{direction:"column",gap:1,children:[o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:"Status"}),o.jsx(b,{variant:"body-3",children:Co[s.status]||s.status})]}),o.jsxs(f,{direction:"column",gap:1,children:[o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:"Priority"}),o.jsx(b,{variant:"body-3",children:So[s.priority]||s.priority})]}),o.jsxs(f,{direction:"column",gap:1,children:[o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:"Assignee"}),s.assignee?o.jsxs(f,{direction:"row",gap:2,align:"center",children:[o.jsx(us,{src:s.assigneeAvatar,initials:s.assignee?.[0]?.toUpperCase(),size:5}),o.jsx(b,{variant:"body-3",children:s.assignee})]}):o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"Assign"})]}),o.jsxs(f,{direction:"column",gap:1,children:[o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:"Labels"}),o.jsx(f,{direction:"row",gap:1,wrap:!0,children:(s.labels||[]).map(l=>o.jsx(Et,{size:"small",color:sl[l]||"neutral",children:l},l))})]}),o.jsxs(f,{direction:"column",gap:1,children:[o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:"Project"}),o.jsx(b,{variant:"body-3",color:s.project?void 0:"neutral-faded",children:s.project||"Add to project"})]}),s.estimate&&o.jsxs(f,{direction:"column",gap:1,children:[o.jsx(b,{variant:"caption-1",color:"neutral-faded",children:"Estimate"}),o.jsxs(b,{variant:"body-3",children:[s.estimate," points"]})]})]})})})]})})]})})}):o.jsx(St,{defaultTheme:"reshaped",defaultColorMode:"dark",children:o.jsx(f,{backgroundColor:"page",minHeight:"100vh",padding:12,children:o.jsxs(f,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[o.jsx(f.Item,{columns:2,children:o.jsx(nn,{orgName:Ne(i),activePage:"Issues",userInfo:{name:Ne(a),role:Ne(c)}})}),o.jsx(f.Item,{grow:!0,children:o.jsxs(f,{direction:"column",gap:4,align:"center",paddingBlock:16,children:[o.jsx(b,{variant:"featured-2",weight:"bold",children:"Issue not found"}),o.jsx(b,{variant:"body-3",color:"neutral-faded",children:"The issue you're looking for doesn't exist."}),o.jsx(ot,{to:"/reshaped-issues",children:"← Back to all issues"})]})})]})})})}const al=Object.freeze(Object.defineProperty({__proto__:null,default:il},Symbol.toStringTag,{value:"Module"})),cl="_issueRow_1cpdh_1",ll={issueRow:cl},dl={todo:"○",in_progress:"◐",done:"●",cancelled:"✕"},ul={Auth:"neutral",Backend:"critical",Feature:"primary",Bug:"critical",Security:"warning",Frontend:"primary",DevEx:"positive"},fl={title:"",description:"",status:"todo",priority:"medium",assignee:"",project:"",estimate:""},Wn=["title","description","status","priority","assignee","project","estimate"];function Ts(e){Wn.forEach(t=>Zt(`${e}.${t}`))}function pl({active:e,onClose:t,issueCount:n}){const[r]=T("draft.create.title"),s=dr(),i=`FIL-${n+1}`,a=()=>{Wn.forEach(d=>{et(`draft.create.${d}`,fl[d])})},c=()=>{if(!(r??"").trim())return;const d=r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")||`new-issue-${n+1}`;Wn.forEach(u=>{const p=new URLSearchParams(window.location.hash.replace(/^#/,"")).get(`draft.create.${u}`)??"";et(`record.issues.${d}.${u}`,p)}),et(`record.issues.${d}.identifier`,i),Ts("draft.create"),t({reason:"save"}),s(`/reshaped-issues/${d}`)},l=()=>{Ts("draft.create"),t({reason:"cancel"})};return o.jsxs(Qe,{active:e,onClose:l,onOpen:a,size:"600px",padding:6,position:"center",children:[o.jsx(Qe.Title,{children:"Create Issue"}),o.jsx(Qe.Subtitle,{children:i}),o.jsxs(f,{direction:"column",gap:4,paddingTop:4,children:[o.jsx(Eo,{prefix:"draft.create"}),o.jsxs(f,{direction:"row",justify:"end",gap:2,paddingTop:2,children:[o.jsx(ve,{variant:"outline",onClick:l,children:"Cancel"}),o.jsx(ve,{color:"primary",onClick:c,children:"Save"})]})]})]})}function $n(e){return typeof e=="string"?e:""}function hl(){const[e,t,n]=T("ui.createModal"),r=e==="true",s=yo("issues"),i=G("signup.organization.name"),a=G("signup.fullName"),c=G("signup.organization.role"),l=s.filter(u=>u.status!=="done"&&u.status!=="cancelled"),d=s.filter(u=>u.status==="done"||u.status==="cancelled");return o.jsx(St,{defaultTheme:"reshaped",defaultColorMode:"dark",children:o.jsx(f,{backgroundColor:"page",minHeight:"100vh",padding:12,children:o.jsxs(f,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[o.jsx(f.Item,{columns:2,children:o.jsx(nn,{orgName:$n(i),activePage:"Issues",userInfo:{name:$n(a),role:$n(c)}})}),o.jsx(f.Item,{grow:!0,children:o.jsxs(f,{direction:"column",gap:4,maxWidth:"900px",children:[o.jsxs(f,{direction:"row",justify:"space-between",align:"center",children:[o.jsx(b,{variant:"featured-2",weight:"bold",children:"Issues"}),o.jsxs(f,{direction:"row",gap:2,align:"center",children:[o.jsxs(Et,{color:"neutral",children:[s.length," total"]}),o.jsx(ve,{size:"small",color:"primary",onClick:()=>t("true"),children:"Create issue"})]})]}),o.jsx(pl,{active:r,onClose:()=>n(),issueCount:s.length}),o.jsxs(f,{direction:"column",gap:0,children:[o.jsx(f,{paddingBlock:2,paddingInline:3,children:o.jsxs(b,{variant:"caption-1",color:"neutral-faded",weight:"medium",children:["Open · ",l.length]})}),o.jsx(xe,{}),l.map(u=>o.jsx(ks,{issue:u},u.id))]}),d.length>0&&o.jsxs(f,{direction:"column",gap:0,children:[o.jsx(f,{paddingBlock:2,paddingInline:3,children:o.jsxs(b,{variant:"caption-1",color:"neutral-faded",weight:"medium",children:["Closed · ",d.length]})}),o.jsx(xe,{}),d.map(u=>o.jsx(ks,{issue:u},u.id))]})]})})]})})})}function ks({issue:e}){return o.jsxs(o.Fragment,{children:[o.jsx(ot,{to:`/reshaped-issues/${e.id}`,className:ll.issueRow,children:o.jsxs(f,{direction:"row",align:"center",gap:3,padding:3,children:[o.jsx(b,{variant:"body-3",color:"neutral-faded",attributes:{style:{minWidth:20}},children:dl[e.status]||"○"}),o.jsx(b,{variant:"caption-1",color:"neutral-faded",attributes:{style:{minWidth:50}},children:e.identifier}),o.jsx(f.Item,{grow:!0,children:o.jsx(b,{variant:"body-3",children:e.title})}),o.jsx(f,{direction:"row",gap:1,children:(e.labels||[]).map(t=>o.jsx(Et,{size:"small",color:ul[t]||"neutral",children:t},t))}),o.jsx(b,{variant:"caption-1",color:"neutral-faded",attributes:{style:{textTransform:"capitalize"}},children:e.priority})]})}),o.jsx(xe,{})]})}const ml=Object.freeze(Object.defineProperty({__proto__:null,default:hl},Symbol.toStringTag,{value:"Module"})),gl=Object.assign({"/src/pages/Dashboard.jsx":()=>be(()=>Promise.resolve().then(()=>Tr),void 0),"/src/pages/Signup.jsx":()=>be(()=>Promise.resolve().then(()=>kr),void 0),"/src/pages/_app.jsx":()=>be(()=>Promise.resolve().then(()=>Ir),void 0),"/src/pages/index.jsx":()=>be(()=>Promise.resolve().then(()=>_o),void 0)});function bl(){return o.jsx(wo,{scenes:Er,pageModules:gl,basePath:"/storyboard/branch--dfosco/"})}const Ao=Object.freeze(Object.defineProperty({__proto__:null,default:bl},Symbol.toStringTag,{value:"Module"}));var Se={route:[/^.*\/src\/pages\/|\.(jsx|tsx|mdx)$/g,""],splat:[/\[\.{3}\w+\]/g,"*"],param:[/\[([^\]]+)\]/g,":$1"],slash:[/^index$|\./g,"/"],optional:[/^-(:?[\w-]+|\*)/,"$1?"]},xl=e=>Object.keys(e).reduce((t,n)=>{const r=n.replace(...Se.route);return{...t,[r]:e[n]}},{}),vl=(e,t)=>Object.keys(e).filter(r=>!r.includes("/_")||/_layout\.(jsx|tsx)$/.test(r)).reduce((r,s)=>{const i=e[s],a={id:s.replace(...Se.route),...t(i,s)},c=s.replace(...Se.route).replace(...Se.splat).replace(...Se.param).split("/").filter(Boolean);return c.reduce((l,d,u)=>{const p=d.replace(...Se.slash).replace(...Se.optional),x=u===0,C=u===c.length-1&&c.length>1,j=!x&&!C,m=d==="_layout",h=/\([\w-]+\)/.test(p),v=/^\w|\//.test(p)?"unshift":"push";if(x&&c.length===1)return r.push({path:p,...a}),l;if(x||j){const _=x?r:l.children,w=_?.find(B=>B.path===p||B.id?.replace("/_layout","").split("/").pop()===p),$=h?a?.component?{id:p,path:"/"}:{id:p}:{path:p};return w?w.children??=[]:_?.[v]({...$,children:[]}),w||_?.[v==="unshift"?0:_.length-1]}return m?Object.assign(l,a):(C&&l?.children?.[v](a?.index?a:{path:p,...a}),l)},{}),r},[]),yl=e=>Object.keys(e).reduce((t,n)=>{const r=n.replace(...Se.route).replace(/\+|\([\w-]+\)\//g,"").replace(/(\/)?index/g,"").replace(/\./g,"/");return{...t,[`/${r}`]:e[n]?.default}},{}),wl=Object.assign({"/src/pages/_app.jsx":Ir}),_l=Object.assign({}),jl=Object.assign({"/src/pages/Dashboard.jsx":Tr,"/src/pages/Signup.jsx":kr,"/src/pages/index.jsx":_o,"/src/pages/primer-issues/[id].jsx":Yc,"/src/pages/primer-issues/index.jsx":tl,"/src/pages/reshaped-issues/[id].jsx":al,"/src/pages/reshaped-issues/index.jsx":ml,"/src/pages/viewfinder.jsx":Ao}),Io=xl(wl),Cl=yl(_l),Sl=vl(jl,(e,t)=>{const n=/index\.(jsx|tsx|mdx)$/.test(t)&&!t.includes("pages/index")?{index:!0}:{},r=e?.default||k.Fragment;return{...n,Component:()=>e?.Pending?o.jsx(k.Suspense,{fallback:o.jsx(e.Pending,{}),children:o.jsx(r,{})}):o.jsx(r,{}),ErrorBoundary:e?.Catch,loader:e?.Loader,action:e?.Action}}),rt=Io?._app,El=Io?.["404"],Al=rt?.default||eo,Il=()=>{const e=Cl[Xs().state?.modal]||k.Fragment;return o.jsx(e,{})},Kn=()=>o.jsxs(o.Fragment,{children:[o.jsx(Al,{})," ",o.jsx(Il,{})]}),Tl=()=>rt?.Pending?o.jsx(k.Suspense,{fallback:o.jsx(rt.Pending,{}),children:o.jsx(Kn,{})}):o.jsx(Kn,{}),kl={Component:rt?.default?Tl:Kn,ErrorBoundary:rt?.Catch,loader:rt?.Loader},Nl={path:"*",Component:El?.default||k.Fragment},Ol=[{...kl,children:[...Sl,Nl]}];const Rl="_container_m20cu_1",Pl="_buttonWrapper_m20cu_7",$l="_label_m20cu_12",Ln={container:Rl,buttonWrapper:Pl,label:$l};function Ll(){const{setDayScheme:e,setNightScheme:t,colorScheme:n}=ha(),r=a=>{e(a),t(a)},s=[{name:"Light",value:"light",icon:ps},{name:"Light colorblind",value:"light_colorblind",icon:ps},{name:"Dark",value:"dark",icon:Lt},{name:"Dark colorblind",value:"dark_colorblind",icon:Lt},{name:"Dark high contrast",value:"dark_high_contrast",icon:Lt},{name:"Dark Dimmed",value:"dark_dimmed",icon:Lt}],i=s.find(a=>a.value===n);return o.jsx(ye,{padding:"normal",className:Ln.container,children:o.jsx(ye,{className:Ln.buttonWrapper,children:o.jsxs(In,{children:[o.jsxs(In.Button,{size:"small",children:[o.jsx(i.icon,{}),o.jsxs(ye,{className:Ln.label,children:[" ",i.name]})]}),o.jsx(In.Overlay,{align:"right",children:o.jsx(Tn,{showDividers:!0,children:o.jsx(Tn.Group,{selectionVariant:"single",children:s.map(a=>o.jsx(Tn.Item,{href:"#",selected:a.value===n,onSelect:()=>r(a.value),children:a.name},a.value))})})})]})})})}const Nr="sb-comments-token",Or="sb-comments-user";function To(){try{return localStorage.getItem(Nr)}catch{return null}}function Ml(e){localStorage.setItem(Nr,e)}function zl(){localStorage.removeItem(Nr),localStorage.removeItem(Or)}function Rr(){try{const e=localStorage.getItem(Or);return e?JSON.parse(e):null}catch{return null}}async function Dl(e){const t=await fetch("https://api.github.com/user",{headers:{Authorization:`bearer ${e}`}});if(!t.ok)throw new Error("Invalid token — GitHub returned "+t.status);const n=await t.json(),r={login:n.login,avatarUrl:n.avatar_url};return localStorage.setItem(Or,JSON.stringify(r)),r}function rn(){return To()!==null}let Re=!1;const Vn=new Set;function Vt(){return Re}function Bl(){return tn()?!Re&&!rn()?(console.warn("[storyboard] Sign in first to use comments"),!1):(Re=!Re,ko(),Re):(console.warn("[storyboard] Comments not enabled — check storyboard.config.json"),!1)}function Ns(e){Re=e,ko()}function Hl(e){return Vn.add(e),()=>Vn.delete(e)}function ko(){for(const e of Vn)e(Re)}const Os=/<!--\s*sb-meta\s+(\{.*?\})\s*-->/;function it(e){if(!e)return{meta:null,text:""};const t=e.match(Os);if(!t)return{meta:null,text:e.trim()};try{const n=JSON.parse(t[1]),r=e.replace(Os,"").trim();return{meta:n,text:r}}catch{return{meta:null,text:e.trim()}}}function at(e,t){return`${`<!-- sb-meta ${JSON.stringify(e)} -->`}
${t}`}function Fl(e,t){const{meta:n,text:r}=it(e),s={...n,...t};return at(s,r)}const Ul="https://api.github.com/graphql";async function J(e,t={},n={}){const{retries:r=2}=n,s=To();if(!s)throw new Error("Not authenticated — no GitHub PAT found. Please sign in.");let i;for(let a=0;a<=r;a++)try{const c=await fetch(Ul,{method:"POST",headers:{Authorization:`bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})});if(c.status===401)throw new Error("GitHub PAT is invalid or expired. Please sign in again.");if(!c.ok)throw new Error(`GitHub API error: ${c.status} ${c.statusText}`);const l=await c.json();if(l.errors?.length)throw new Error(`GraphQL error: ${l.errors.map(d=>d.message).join(", ")}`);return l.data}catch(c){if(i=c,c.message.includes("401")||c.message.includes("Not authenticated")||c.message.includes("invalid or expired"))throw c;a<r&&await new Promise(l=>setTimeout(l,1e3*(a+1)))}throw i}const ql=`
  query SearchDiscussion($query: String!) {
    search(query: $query, type: DISCUSSION, first: 1) {
      nodes {
        ... on Discussion {
          id
          title
          body
          url
          comments(first: 100) {
            nodes {
              id
              body
              createdAt
              author {
                login
                avatarUrl
              }
              replies(first: 50) {
                nodes {
                  id
                  body
                  createdAt
                  author {
                    login
                    avatarUrl
                  }
                  reactionGroups {
                    content
                    users(first: 0) { totalCount }
                    viewerHasReacted
                  }
                }
              }
              reactionGroups {
                content
                users(first: 0) { totalCount }
                viewerHasReacted
              }
            }
          }
        }
      }
    }
  }
`,Wl=`
  query GetCategoryId($owner: String!, $name: String!, $slug: String!) {
    repository(owner: $owner, name: $name) {
      id
      discussionCategory(slug: $slug) {
        id
      }
      discussionCategories(first: 25) {
        nodes {
          id
          name
          slug
        }
      }
    }
  }
`,Kl=`
  mutation CreateDiscussion($repositoryId: ID!, $categoryId: ID!, $title: String!, $body: String!) {
    createDiscussion(input: { repositoryId: $repositoryId, categoryId: $categoryId, title: $title, body: $body }) {
      discussion {
        id
        title
        url
      }
    }
  }
`,Vl=`
  mutation AddComment($discussionId: ID!, $body: String!) {
    addDiscussionComment(input: { discussionId: $discussionId, body: $body }) {
      comment {
        id
        body
        createdAt
        author {
          login
          avatarUrl
        }
      }
    }
  }
`,Yl=`
  mutation AddReply($discussionId: ID!, $replyToId: ID!, $body: String!) {
    addDiscussionComment(input: { discussionId: $discussionId, body: $body, replyToId: $replyToId }) {
      comment {
        id
        body
        createdAt
        author {
          login
          avatarUrl
        }
      }
    }
  }
`,Rt=`
  mutation UpdateComment($commentId: ID!, $body: String!) {
    updateDiscussionComment(input: { commentId: $commentId, body: $body }) {
      comment {
        id
        body
      }
    }
  }
`,Gl=`
  mutation DeleteComment($commentId: ID!) {
    deleteDiscussionComment(input: { id: $commentId }) {
      comment {
        id
      }
    }
  }
`,Jl=`
  mutation AddReaction($subjectId: ID!, $content: ReactionContent!) {
    addReaction(input: { subjectId: $subjectId, content: $content }) {
      reaction {
        content
      }
    }
  }
`,Zl=`
  mutation RemoveReaction($subjectId: ID!, $content: ReactionContent!) {
    removeReaction(input: { subjectId: $subjectId, content: $content }) {
      reaction {
        content
      }
    }
  }
`,Xl=`
  query ListDiscussions($owner: String!, $name: String!, $categoryId: ID!) {
    repository(owner: $owner, name: $name) {
      discussions(first: 50, categoryId: $categoryId) {
        nodes {
          id
          title
          body
          url
          createdAt
          comments {
            totalCount
          }
        }
      }
    }
  }
`;async function No(e){const t=Sr(),r=`"${`Comments: ${e}`}" in:title repo:${t.repo.owner}/${t.repo.name}`,i=(await J(ql,{query:r})).search?.nodes?.[0];if(!i)return null;const a=(i.comments?.nodes??[]).map(c=>{const{meta:l,text:d}=it(c.body);return{...c,meta:l,text:d,replies:(c.replies?.nodes??[]).map(u=>{const{meta:p,text:x}=it(u.body);return{...u,meta:p,text:x}})}});return{...i,comments:a}}async function Oo(){const e=Sr(),t=e.discussions.category.toLowerCase().replace(/\s+/g,"-"),n=await J(Wl,{owner:e.repo.owner,name:e.repo.name,slug:t}),r=n.repository?.id;let s=n.repository?.discussionCategory?.id;if(s||(s=n.repository?.discussionCategories?.nodes?.find(a=>a.name===e.discussions.category)?.id),!r||!s)throw new Error(`Could not find repository or discussion category "${e.discussions.category}" in ${e.repo.owner}/${e.repo.name}`);return{repositoryId:r,categoryId:s}}async function Ql(e,t,n,r){let s=await No(e);if(!s){const{repositoryId:c,categoryId:l}=await Oo(),d=`Comments: ${e}`,u=at({route:e,createdAt:new Date().toISOString()},"");s=(await J(Kl,{repositoryId:c,categoryId:l,title:d,body:u})).createDiscussion.discussion}const i=at({x:Math.round(t*10)/10,y:Math.round(n*10)/10},r);return(await J(Vl,{discussionId:s.id,body:i})).addDiscussionComment.comment}async function ed(e,t,n){return(await J(Yl,{discussionId:e,replyToId:t,body:n})).addDiscussionComment.comment}async function td(e,t){const{meta:n,text:r}=it(t),s={...n,resolved:!0},i=r.startsWith("(Resolved) ")?r:`(Resolved) ${r}`,a=at(s,i);return(await J(Rt,{commentId:e,body:a})).updateDiscussionComment.comment}async function nd(e,t){const{meta:n,text:r}=it(t),s={...n};delete s.resolved;const i=r.replace(/^\(Resolved\)\s*/,""),a=at(s,i);return(await J(Rt,{commentId:e,body:a})).updateDiscussionComment.comment}async function rd(e,t,n){const{meta:r}=it(t),s=r?at(r,n):n;return(await J(Rt,{commentId:e,body:s})).updateDiscussionComment.comment}async function sd(e,t){return(await J(Rt,{commentId:e,body:t})).updateDiscussionComment.comment}async function od(e,t,n,r){const s=Fl(t,{x:Math.round(n*10)/10,y:Math.round(r*10)/10});return(await J(Rt,{commentId:e,body:s})).updateDiscussionComment.comment}async function id(e){await J(Gl,{commentId:e})}async function ad(e,t){await J(Jl,{subjectId:e,content:t})}async function cd(e,t){await J(Zl,{subjectId:e,content:t})}async function Uf(){const e=Sr(),{categoryId:t}=await Oo();return(await J(Xl,{owner:e.repo.owner,name:e.repo.name,categoryId:t})).repository?.discussions?.nodes??[]}var Yn=!1,Gn=!1,Le=[],Jn=-1,Pr=!1;function ld(e){fd(e)}function dd(){Pr=!0}function ud(){Pr=!1,Ro()}function fd(e){Le.includes(e)||Le.push(e),Ro()}function pd(e){let t=Le.indexOf(e);t!==-1&&t>Jn&&Le.splice(t,1)}function Ro(){if(!Gn&&!Yn){if(Pr)return;Yn=!0,queueMicrotask(hd)}}function hd(){Yn=!1,Gn=!0;for(let e=0;e<Le.length;e++)Le[e](),Jn=e;Le.length=0,Jn=-1,Gn=!1}var lt,qe,dt,Po,Zn=!0;function md(e){Zn=!1,e(),Zn=!0}function gd(e){lt=e.reactive,dt=e.release,qe=t=>e.effect(t,{scheduler:n=>{Zn?ld(n):n()}}),Po=e.raw}function Rs(e){qe=e}function bd(e){let t=()=>{};return[r=>{let s=qe(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(i=>i())}),e._x_effects.add(s),t=()=>{s!==void 0&&(e._x_effects.delete(s),dt(s))},s},()=>{t()}]}function $o(e,t){let n=!0,r,s=qe(()=>{let i=e();if(JSON.stringify(i),!n&&(typeof i=="object"||i!==r)){let a=r;queueMicrotask(()=>{t(i,a)})}r=i,n=!1});return()=>dt(s)}async function xd(e){dd();try{await e(),await Promise.resolve()}finally{ud()}}var Lo=[],Mo=[],zo=[];function vd(e){zo.push(e)}function $r(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,Mo.push(t))}function Do(e){Lo.push(e)}function Bo(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function Ho(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(t===void 0||t.includes(n))&&(r.forEach(s=>s()),delete e._x_attributeCleanups[n])})}function yd(e){for(e._x_effects?.forEach(pd);e._x_cleanups?.length;)e._x_cleanups.pop()()}var Lr=new MutationObserver(Br),Mr=!1;function zr(){Lr.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Mr=!0}function Fo(){wd(),Lr.disconnect(),Mr=!1}var bt=[];function wd(){let e=Lr.takeRecords();bt.push(()=>e.length>0&&Br(e));let t=bt.length;queueMicrotask(()=>{if(bt.length===t)for(;bt.length>0;)bt.shift()()})}function z(e){if(!Mr)return e();Fo();let t=e();return zr(),t}var Dr=!1,sn=[];function _d(){Dr=!0}function jd(){Dr=!1,Br(sn),sn=[]}function Br(e){if(Dr){sn=sn.concat(e);return}let t=[],n=new Set,r=new Map,s=new Map;for(let i=0;i<e.length;i++)if(!e[i].target._x_ignoreMutationObserver&&(e[i].type==="childList"&&(e[i].removedNodes.forEach(a=>{a.nodeType===1&&a._x_marker&&n.add(a)}),e[i].addedNodes.forEach(a=>{if(a.nodeType===1){if(n.has(a)){n.delete(a);return}a._x_marker||t.push(a)}})),e[i].type==="attributes")){let a=e[i].target,c=e[i].attributeName,l=e[i].oldValue,d=()=>{r.has(a)||r.set(a,[]),r.get(a).push({name:c,value:a.getAttribute(c)})},u=()=>{s.has(a)||s.set(a,[]),s.get(a).push(c)};a.hasAttribute(c)&&l===null?d():a.hasAttribute(c)?(u(),d()):u()}s.forEach((i,a)=>{Ho(a,i)}),r.forEach((i,a)=>{Lo.forEach(c=>c(a,i))});for(let i of n)t.some(a=>a.contains(i))||Mo.forEach(a=>a(i));for(let i of t)i.isConnected&&zo.forEach(a=>a(i));t=null,n=null,r=null,s=null}function Uo(e){return He(Be(e))}function Pt(e,t,n){return e._x_dataStack=[t,...Be(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(r=>r!==t)}}function Be(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?Be(e.host):e.parentNode?Be(e.parentNode):[]}function He(e){return new Proxy({objects:e},Cd)}var Cd={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(n=>Object.prototype.hasOwnProperty.call(n,t)||Reflect.has(n,t))},get({objects:e},t,n){return t=="toJSON"?Sd:Reflect.get(e.find(r=>Reflect.has(r,t))||{},t,n)},set({objects:e},t,n,r){const s=e.find(a=>Object.prototype.hasOwnProperty.call(a,t))||e[e.length-1],i=Object.getOwnPropertyDescriptor(s,t);return i?.set&&i?.get?i.set.call(r,n)||!0:Reflect.set(s,t,n)}};function Sd(){return Reflect.ownKeys(this).reduce((t,n)=>(t[n]=Reflect.get(this,n),t),{})}function Hr(e){let t=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([i,{value:a,enumerable:c}])=>{if(c===!1||a===void 0||typeof a=="object"&&a!==null&&a.__v_skip)return;let l=s===""?i:`${s}.${i}`;typeof a=="object"&&a!==null&&a._x_interceptor?r[i]=a.initialize(e,l,i):t(a)&&a!==r&&!(a instanceof Element)&&n(a,l)})};return n(e)}function qo(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,s,i){return e(this.initialValue,()=>Ed(r,s),a=>Xn(r,s,a),s,i)}};return t(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let s=n.initialize.bind(n);n.initialize=(i,a,c)=>{let l=r.initialize(i,a,c);return n.initialValue=l,s(i,a,c)}}else n.initialValue=r;return n}}function Ed(e,t){return t.split(".").reduce((n,r)=>n[r],e)}function Xn(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),Xn(e[t[0]],t.slice(1),n)}}var Wo={};function le(e,t){Wo[e]=t}function It(e,t){let n=Ad(t);return Object.entries(Wo).forEach(([r,s])=>{Object.defineProperty(e,`$${r}`,{get(){return s(t,n)},enumerable:!1})}),e}function Ad(e){let[t,n]=Qo(e),r={interceptor:qo,...t};return $r(e,n),r}function Id(e,t,n,...r){try{return n(...r)}catch(s){Tt(s,e,t)}}function Tt(...e){return Ko(...e)}var Ko=kd;function Td(e){Ko=e}function kd(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var st=!0;function Vo(e){let t=st;st=!1;let n=e();return st=t,n}function Me(e,t,n={}){let r;return Y(e,t)(s=>r=s,n),r}function Y(...e){return Yo(...e)}var Yo=Jo;function Nd(e){Yo=e}var Go;function Od(e){Go=e}function Jo(e,t){let n={};It(n,e);let r=[n,...Be(e)],s=typeof t=="function"?Rd(r,t):$d(r,t,e);return Id.bind(null,e,t,s)}function Rd(e,t){return(n=()=>{},{scope:r={},params:s=[],context:i}={})=>{if(!st){kt(n,t,He([r,...e]),s);return}let a=t.apply(He([r,...e]),s);kt(n,a)}}var Mn={};function Pd(e,t){if(Mn[e])return Mn[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,i=(()=>{try{let a=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(a,"name",{value:`[Alpine] ${e}`}),a}catch(a){return Tt(a,t,e),Promise.resolve()}})();return Mn[e]=i,i}function $d(e,t,n){let r=Pd(t,n);return(s=()=>{},{scope:i={},params:a=[],context:c}={})=>{r.result=void 0,r.finished=!1;let l=He([i,...e]);if(typeof r=="function"){let d=r.call(c,r,l).catch(u=>Tt(u,n,t));r.finished?(kt(s,r.result,l,a,n),r.result=void 0):d.then(u=>{kt(s,u,l,a,n)}).catch(u=>Tt(u,n,t)).finally(()=>r.result=void 0)}}}function kt(e,t,n,r,s){if(st&&typeof t=="function"){let i=t.apply(n,r);i instanceof Promise?i.then(a=>kt(e,a,n,r)).catch(a=>Tt(a,s,t)):e(i)}else typeof t=="object"&&t instanceof Promise?t.then(i=>e(i)):e(t)}function Ld(...e){return Go(...e)}function Md(e,t,n={}){let r={};It(r,e);let s=[r,...Be(e)],i=He([n.scope??{},...s]),a=n.params??[];if(t.includes("await")){let c=Object.getPrototypeOf(async function(){}).constructor,l=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t;return new c(["scope"],`with (scope) { let __result = ${l}; return __result }`).call(n.context,i)}else{let c=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(()=>{ ${t} })()`:t,d=new Function(["scope"],`with (scope) { let __result = ${c}; return __result }`).call(n.context,i);return typeof d=="function"&&st?d.apply(i,a):d}}var Fr="x-";function ut(e=""){return Fr+e}function zd(e){Fr=e}var on={};function U(e,t){return on[e]=t,{before(n){if(!on[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${e}\` will use the default order of execution`);return}const r=Pe.indexOf(n);Pe.splice(r>=0?r:Pe.indexOf("DEFAULT"),0,e)}}}function Dd(e){return Object.keys(on).includes(e)}function Ur(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let i=Object.entries(e._x_virtualDirectives).map(([c,l])=>({name:c,value:l})),a=Zo(i);i=i.map(c=>a.find(l=>l.name===c.name)?{name:`x-bind:${c.name}`,value:`"${c.value}"`}:c),t=t.concat(i)}let r={};return t.map(ni((i,a)=>r[i]=a)).filter(si).map(Fd(r,n)).sort(Ud).map(i=>Hd(e,i))}function Zo(e){return Array.from(e).map(ni()).filter(t=>!si(t))}var Qn=!1,wt=new Map,Xo=Symbol();function Bd(e){Qn=!0;let t=Symbol();Xo=t,wt.set(t,[]);let n=()=>{for(;wt.get(t).length;)wt.get(t).shift()();wt.delete(t)},r=()=>{Qn=!1,n()};e(n),r()}function Qo(e){let t=[],n=c=>t.push(c),[r,s]=bd(e);return t.push(s),[{Alpine:pt,effect:r,cleanup:n,evaluateLater:Y.bind(Y,e),evaluate:Me.bind(Me,e)},()=>t.forEach(c=>c())]}function Hd(e,t){let n=()=>{},r=on[t.type]||n,[s,i]=Qo(e);Bo(e,t.original,i);let a=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,s),r=r.bind(r,e,t,s),Qn?wt.get(Xo).push(r):r())};return a.runCleanups=i,a}var ei=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r}),ti=e=>e;function ni(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:s}=ri.reduce((i,a)=>a(i),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:s}}}var ri=[];function qr(e){ri.push(e)}function si({name:e}){return oi().test(e)}var oi=()=>new RegExp(`^${Fr}([^:^.]+)\\b`);function Fd(e,t){return({name:n,value:r})=>{n===r&&(r="");let s=n.match(oi()),i=n.match(/:([a-zA-Z0-9\-_:]+)/),a=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],c=t||e[n]||n;return{type:s?s[1]:null,value:i?i[1]:null,modifiers:a.map(l=>l.replace(".","")),expression:r,original:c}}}var er="DEFAULT",Pe=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",er,"teleport"];function Ud(e,t){let n=Pe.indexOf(e.type)===-1?er:e.type,r=Pe.indexOf(t.type)===-1?er:t.type;return Pe.indexOf(n)-Pe.indexOf(r)}function jt(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function Fe(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(s=>Fe(s,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)Fe(r,t),r=r.nextElementSibling}function te(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var Ps=!1;function qd(){Ps&&te("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Ps=!0,document.body||te("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),jt(document,"alpine:init"),jt(document,"alpine:initializing"),zr(),vd(t=>we(t,Fe)),$r(t=>ft(t)),Do((t,n)=>{Ur(t,n).forEach(r=>r())});let e=t=>!bn(t.parentElement,!0);Array.from(document.querySelectorAll(ci().join(","))).filter(e).forEach(t=>{we(t)}),jt(document,"alpine:initialized"),setTimeout(()=>{Yd()})}var Wr=[],ii=[];function ai(){return Wr.map(e=>e())}function ci(){return Wr.concat(ii).map(e=>e())}function li(e){Wr.push(e)}function di(e){ii.push(e)}function bn(e,t=!1){return Ue(e,n=>{if((t?ci():ai()).some(s=>n.matches(s)))return!0})}function Ue(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentNode instanceof ShadowRoot)return Ue(e.parentNode.host,t);if(e.parentElement)return Ue(e.parentElement,t)}}function Wd(e){return ai().some(t=>e.matches(t))}var ui=[];function Kd(e){ui.push(e)}var Vd=1;function we(e,t=Fe,n=()=>{}){Ue(e,r=>r._x_ignore)||Bd(()=>{t(e,(r,s)=>{r._x_marker||(n(r,s),ui.forEach(i=>i(r,s)),Ur(r,r.attributes).forEach(i=>i()),r._x_ignore||(r._x_marker=Vd++),r._x_ignore&&s())})})}function ft(e,t=Fe){t(e,n=>{yd(n),Ho(n),delete n._x_marker})}function Yd(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,n,r])=>{Dd(n)||r.some(s=>{if(document.querySelector(s))return te(`found "${s}", but missing ${t} plugin`),!0})})}var tr=[],Kr=!1;function Vr(e=()=>{}){return queueMicrotask(()=>{Kr||setTimeout(()=>{nr()})}),new Promise(t=>{tr.push(()=>{e(),t()})})}function nr(){for(Kr=!1;tr.length;)tr.shift()()}function Gd(){Kr=!0}function Yr(e,t){return Array.isArray(t)?$s(e,t.join(" ")):typeof t=="object"&&t!==null?Jd(e,t):typeof t=="function"?Yr(e,t()):$s(e,t)}function $s(e,t){let n=s=>s.split(" ").filter(i=>!e.classList.contains(i)).filter(Boolean),r=s=>(e.classList.add(...s),()=>{e.classList.remove(...s)});return t=t===!0?t="":t||"",r(n(t))}function Jd(e,t){let n=c=>c.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([c,l])=>l?n(c):!1).filter(Boolean),s=Object.entries(t).flatMap(([c,l])=>l?!1:n(c)).filter(Boolean),i=[],a=[];return s.forEach(c=>{e.classList.contains(c)&&(e.classList.remove(c),a.push(c))}),r.forEach(c=>{e.classList.contains(c)||(e.classList.add(c),i.push(c))}),()=>{a.forEach(c=>e.classList.add(c)),i.forEach(c=>e.classList.remove(c))}}function xn(e,t){return typeof t=="object"&&t!==null?Zd(e,t):Xd(e,t)}function Zd(e,t){let n={};return Object.entries(t).forEach(([r,s])=>{n[r]=e.style[r],r.startsWith("--")||(r=Qd(r)),e.style.setProperty(r,s)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{xn(e,n)}}function Xd(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function Qd(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rr(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}U("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:s})=>{typeof r=="function"&&(r=s(r)),r!==!1&&(!r||typeof r=="boolean"?tu(e,n,t):eu(e,r,t))});function eu(e,t,n){fi(e,Yr,""),{enter:s=>{e._x_transition.enter.during=s},"enter-start":s=>{e._x_transition.enter.start=s},"enter-end":s=>{e._x_transition.enter.end=s},leave:s=>{e._x_transition.leave.during=s},"leave-start":s=>{e._x_transition.leave.start=s},"leave-end":s=>{e._x_transition.leave.end=s}}[n](t)}function tu(e,t,n){fi(e,xn);let r=!t.includes("in")&&!t.includes("out")&&!n,s=r||t.includes("in")||["enter"].includes(n),i=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((v,_)=>_<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((v,_)=>_>t.indexOf("out")));let a=!t.includes("opacity")&&!t.includes("scale"),c=a||t.includes("opacity"),l=a||t.includes("scale"),d=c?0:1,u=l?xt(t,"scale",95)/100:1,p=xt(t,"delay",0)/1e3,x=xt(t,"origin","center"),C="opacity, transform",j=xt(t,"duration",150)/1e3,m=xt(t,"duration",75)/1e3,h="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(e._x_transition.enter.during={transformOrigin:x,transitionDelay:`${p}s`,transitionProperty:C,transitionDuration:`${j}s`,transitionTimingFunction:h},e._x_transition.enter.start={opacity:d,transform:`scale(${u})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),i&&(e._x_transition.leave.during={transformOrigin:x,transitionDelay:`${p}s`,transitionProperty:C,transitionDuration:`${m}s`,transitionTimingFunction:h},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:d,transform:`scale(${u})`})}function fi(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},s=()=>{}){sr(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,s)},out(r=()=>{},s=()=>{}){sr(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){const s=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let i=()=>s(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i();return}e._x_hidePromise=e._x_transition?new Promise((a,c)=>{e._x_transition.out(()=>{},()=>a(r)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>c({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let a=pi(e);a?(a._x_hideChildren||(a._x_hideChildren=[]),a._x_hideChildren.push(e)):s(()=>{let c=l=>{let d=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(c)]).then(([u])=>u?.());return delete l._x_hidePromise,delete l._x_hideChildren,d};c(e).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function pi(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:pi(t)}function sr(e,t,{during:n,start:r,end:s}={},i=()=>{},a=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(s).length===0){i(),a();return}let c,l,d;nu(e,{start(){c=t(e,r)},during(){l=t(e,n)},before:i,end(){c(),d=t(e,s)},after:a,cleanup(){l(),d()}})}function nu(e,t){let n,r,s,i=rr(()=>{z(()=>{n=!0,r||t.before(),s||(t.end(),nr()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(a){this.beforeCancels.push(a)},cancel:rr(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();i()}),finish:i},z(()=>{t.start(),t.during()}),Gd(),requestAnimationFrame(()=>{if(n)return;let a=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,c=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;a===0&&(a=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),z(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(z(()=>{t.end()}),nr(),setTimeout(e._x_transitioning.finish,a+c),s=!0)})})}function xt(e,t,n){if(e.indexOf(t)===-1)return n;const r=e[e.indexOf(t)+1];if(!r||t==="scale"&&isNaN(r))return n;if(t==="duration"||t==="delay"){let s=r.match(/([0-9]+)ms/);if(s)return s[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}var Ae=!1;function Te(e,t=()=>{}){return(...n)=>Ae?t(...n):e(...n)}function ru(e){return(...t)=>Ae&&e(...t)}var hi=[];function vn(e){hi.push(e)}function su(e,t){hi.forEach(n=>n(e,t)),Ae=!0,mi(()=>{we(t,(n,r)=>{r(n,()=>{})})}),Ae=!1}var or=!1;function ou(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),Ae=!0,or=!0,mi(()=>{iu(t)}),Ae=!1,or=!1}function iu(e){let t=!1;we(e,(r,s)=>{Fe(r,(i,a)=>{if(t&&Wd(i))return a();t=!0,s(i,a)})})}function mi(e){let t=qe;Rs((n,r)=>{let s=t(n);return dt(s),()=>{}}),e(),Rs(t)}function gi(e,t,n,r=[]){switch(e._x_bindings||(e._x_bindings=lt({})),e._x_bindings[t]=n,t=r.includes("camel")?hu(t):t,t){case"value":au(e,n);break;case"style":lu(e,n);break;case"class":cu(e,n);break;case"selected":case"checked":du(e,t,n);break;default:bi(e,t,n);break}}function au(e,t){if(yi(e))e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=Yt(e.value)===t:e.checked=Ls(e.value,t));else if(Gr(e))Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>Ls(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")pu(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function cu(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=Yr(e,t)}function lu(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=xn(e,t)}function du(e,t,n){bi(e,t,n),fu(e,t,n)}function bi(e,t,n){[null,void 0,!1].includes(n)&&gu(t)?e.removeAttribute(t):(xi(t)&&(n=t),uu(e,t,n))}function uu(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function fu(e,t,n){e[t]!==n&&(e[t]=n)}function pu(e,t){const n=[].concat(t).map(r=>r+"");Array.from(e.options).forEach(r=>{r.selected=n.includes(r.value)})}function hu(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Ls(e,t){return e==t}function Yt(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}var mu=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function xi(e){return mu.has(e)}function gu(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function bu(e,t,n){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:vi(e,t,n)}function xu(e,t,n,r=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let s=e._x_inlineBindings[t];return s.extract=r,Vo(()=>Me(e,s.expression))}return vi(e,t,n)}function vi(e,t,n){let r=e.getAttribute(t);return r===null?typeof n=="function"?n():n:r===""?!0:xi(t)?!![t,"true"].includes(r):r}function Gr(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function yi(e){return e.type==="radio"||e.localName==="ui-radio"}function wi(e,t){let n;return function(){const r=this,s=arguments,i=function(){n=null,e.apply(r,s)};clearTimeout(n),n=setTimeout(i,t)}}function _i(e,t){let n;return function(){let r=this,s=arguments;n||(e.apply(r,s),n=!0,setTimeout(()=>n=!1,t))}}function ji({get:e,set:t},{get:n,set:r}){let s=!0,i,a=qe(()=>{let c=e(),l=n();if(s)r(zn(c)),s=!1;else{let d=JSON.stringify(c),u=JSON.stringify(l);d!==i?r(zn(c)):d!==u&&t(zn(l))}i=JSON.stringify(e()),JSON.stringify(n())});return()=>{dt(a)}}function zn(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function vu(e){(Array.isArray(e)?e:[e]).forEach(n=>n(pt))}var Oe={},Ms=!1;function yu(e,t){if(Ms||(Oe=lt(Oe),Ms=!0),t===void 0)return Oe[e];Oe[e]=t,Hr(Oe[e]),typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&Oe[e].init()}function wu(){return Oe}var Ci={};function _u(e,t){let n=typeof t!="function"?()=>t:t;return e instanceof Element?Si(e,n()):(Ci[e]=n,()=>{})}function ju(e){return Object.entries(Ci).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...r)=>n(...r)}})}),e}function Si(e,t,n){let r=[];for(;r.length;)r.pop()();let s=Object.entries(t).map(([a,c])=>({name:a,value:c})),i=Zo(s);return s=s.map(a=>i.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),Ur(e,s,n).map(a=>{r.push(a.runCleanups),a()}),()=>{for(;r.length;)r.pop()()}}var Ei={};function Cu(e,t){Ei[e]=t}function Su(e,t){return Object.entries(Ei).forEach(([n,r])=>{Object.defineProperty(e,n,{get(){return(...s)=>r.bind(t)(...s)},enumerable:!1})}),e}var Eu={get reactive(){return lt},get release(){return dt},get effect(){return qe},get raw(){return Po},get transaction(){return xd},version:"3.15.8",flushAndStopDeferringMutations:jd,dontAutoEvaluateFunctions:Vo,disableEffectScheduling:md,startObservingMutations:zr,stopObservingMutations:Fo,setReactivityEngine:gd,onAttributeRemoved:Bo,onAttributesAdded:Do,closestDataStack:Be,skipDuringClone:Te,onlyDuringClone:ru,addRootSelector:li,addInitSelector:di,setErrorHandler:Td,interceptClone:vn,addScopeToNode:Pt,deferMutations:_d,mapAttributes:qr,evaluateLater:Y,interceptInit:Kd,initInterceptors:Hr,injectMagics:It,setEvaluator:Nd,setRawEvaluator:Od,mergeProxies:He,extractProp:xu,findClosest:Ue,onElRemoved:$r,closestRoot:bn,destroyTree:ft,interceptor:qo,transition:sr,setStyles:xn,mutateDom:z,directive:U,entangle:ji,throttle:_i,debounce:wi,evaluate:Me,evaluateRaw:Ld,initTree:we,nextTick:Vr,prefixed:ut,prefix:zd,plugin:vu,magic:le,store:yu,start:qd,clone:ou,cloneNode:su,bound:bu,$data:Uo,watch:$o,walk:Fe,data:Cu,bind:_u},pt=Eu;function Au(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return s=>!!n[s]}var Iu=Object.freeze({}),Tu=Object.prototype.hasOwnProperty,yn=(e,t)=>Tu.call(e,t),ze=Array.isArray,Ct=e=>Ai(e)==="[object Map]",ku=e=>typeof e=="string",Jr=e=>typeof e=="symbol",wn=e=>e!==null&&typeof e=="object",Nu=Object.prototype.toString,Ai=e=>Nu.call(e),Ii=e=>Ai(e).slice(8,-1),Zr=e=>ku(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ou=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ru=Ou(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ti=(e,t)=>e!==t&&(e===e||t===t),ir=new WeakMap,vt=[],de,De=Symbol("iterate"),ar=Symbol("Map key iterate");function Pu(e){return e&&e._isEffect===!0}function $u(e,t=Iu){Pu(e)&&(e=e.raw);const n=zu(e,t);return t.lazy||n(),n}function Lu(e){e.active&&(ki(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var Mu=0;function zu(e,t){const n=function(){if(!n.active)return e();if(!vt.includes(n)){ki(n);try{return Bu(),vt.push(n),de=n,e()}finally{vt.pop(),Ni(),de=vt[vt.length-1]}}};return n.id=Mu++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function ki(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var ct=!0,Xr=[];function Du(){Xr.push(ct),ct=!1}function Bu(){Xr.push(ct),ct=!0}function Ni(){const e=Xr.pop();ct=e===void 0?!0:e}function ce(e,t,n){if(!ct||de===void 0)return;let r=ir.get(e);r||ir.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=new Set),s.has(de)||(s.add(de),de.deps.push(s),de.options.onTrack&&de.options.onTrack({effect:de,target:e,type:t,key:n}))}function Ie(e,t,n,r,s,i){const a=ir.get(e);if(!a)return;const c=new Set,l=u=>{u&&u.forEach(p=>{(p!==de||p.allowRecurse)&&c.add(p)})};if(t==="clear")a.forEach(l);else if(n==="length"&&ze(e))a.forEach((u,p)=>{(p==="length"||p>=r)&&l(u)});else switch(n!==void 0&&l(a.get(n)),t){case"add":ze(e)?Zr(n)&&l(a.get("length")):(l(a.get(De)),Ct(e)&&l(a.get(ar)));break;case"delete":ze(e)||(l(a.get(De)),Ct(e)&&l(a.get(ar)));break;case"set":Ct(e)&&l(a.get(De));break}const d=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:e,key:n,type:t,newValue:r,oldValue:s,oldTarget:i}),u.options.scheduler?u.options.scheduler(u):u()};c.forEach(d)}var Hu=Au("__proto__,__v_isRef,__isVue"),Oi=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Jr)),Fu=Ri(),Uu=Ri(!0),zs=qu();function qu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=M(this);for(let i=0,a=this.length;i<a;i++)ce(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(M)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Du();const r=M(this)[t].apply(this,n);return Ni(),r}}),e}function Ri(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_raw"&&i===(e?t?sf:Mi:t?rf:Li).get(r))return r;const a=ze(r);if(!e&&a&&yn(zs,s))return Reflect.get(zs,s,i);const c=Reflect.get(r,s,i);return(Jr(s)?Oi.has(s):Hu(s))||(e||ce(r,"get",s),t)?c:cr(c)?!a||!Zr(s)?c.value:c:wn(c)?e?zi(c):ns(c):c}}var Wu=Ku();function Ku(e=!1){return function(n,r,s,i){let a=n[r];if(!e&&(s=M(s),a=M(a),!ze(n)&&cr(a)&&!cr(s)))return a.value=s,!0;const c=ze(n)&&Zr(r)?Number(r)<n.length:yn(n,r),l=Reflect.set(n,r,s,i);return n===M(i)&&(c?Ti(s,a)&&Ie(n,"set",r,s,a):Ie(n,"add",r,s)),l}}function Vu(e,t){const n=yn(e,t),r=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&Ie(e,"delete",t,void 0,r),s}function Yu(e,t){const n=Reflect.has(e,t);return(!Jr(t)||!Oi.has(t))&&ce(e,"has",t),n}function Gu(e){return ce(e,"iterate",ze(e)?"length":De),Reflect.ownKeys(e)}var Ju={get:Fu,set:Wu,deleteProperty:Vu,has:Yu,ownKeys:Gu},Zu={get:Uu,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Qr=e=>wn(e)?ns(e):e,es=e=>wn(e)?zi(e):e,ts=e=>e,_n=e=>Reflect.getPrototypeOf(e);function Ht(e,t,n=!1,r=!1){e=e.__v_raw;const s=M(e),i=M(t);t!==i&&!n&&ce(s,"get",t),!n&&ce(s,"get",i);const{has:a}=_n(s),c=r?ts:n?es:Qr;if(a.call(s,t))return c(e.get(t));if(a.call(s,i))return c(e.get(i));e!==s&&e.get(t)}function Ft(e,t=!1){const n=this.__v_raw,r=M(n),s=M(e);return e!==s&&!t&&ce(r,"has",e),!t&&ce(r,"has",s),e===s?n.has(e):n.has(e)||n.has(s)}function Ut(e,t=!1){return e=e.__v_raw,!t&&ce(M(e),"iterate",De),Reflect.get(e,"size",e)}function Ds(e){e=M(e);const t=M(this);return _n(t).has.call(t,e)||(t.add(e),Ie(t,"add",e,e)),this}function Bs(e,t){t=M(t);const n=M(this),{has:r,get:s}=_n(n);let i=r.call(n,e);i?$i(n,r,e):(e=M(e),i=r.call(n,e));const a=s.call(n,e);return n.set(e,t),i?Ti(t,a)&&Ie(n,"set",e,t,a):Ie(n,"add",e,t),this}function Hs(e){const t=M(this),{has:n,get:r}=_n(t);let s=n.call(t,e);s?$i(t,n,e):(e=M(e),s=n.call(t,e));const i=r?r.call(t,e):void 0,a=t.delete(e);return s&&Ie(t,"delete",e,void 0,i),a}function Fs(){const e=M(this),t=e.size!==0,n=Ct(e)?new Map(e):new Set(e),r=e.clear();return t&&Ie(e,"clear",void 0,void 0,n),r}function qt(e,t){return function(r,s){const i=this,a=i.__v_raw,c=M(a),l=t?ts:e?es:Qr;return!e&&ce(c,"iterate",De),a.forEach((d,u)=>r.call(s,l(d),l(u),i))}}function Wt(e,t,n){return function(...r){const s=this.__v_raw,i=M(s),a=Ct(i),c=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,d=s[e](...r),u=n?ts:t?es:Qr;return!t&&ce(i,"iterate",l?ar:De),{next(){const{value:p,done:x}=d.next();return x?{value:p,done:x}:{value:c?[u(p[0]),u(p[1])]:u(p),done:x}},[Symbol.iterator](){return this}}}}function Ce(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${Ru(e)} operation ${n}failed: target is readonly.`,M(this))}return e==="delete"?!1:this}}function Xu(){const e={get(i){return Ht(this,i)},get size(){return Ut(this)},has:Ft,add:Ds,set:Bs,delete:Hs,clear:Fs,forEach:qt(!1,!1)},t={get(i){return Ht(this,i,!1,!0)},get size(){return Ut(this)},has:Ft,add:Ds,set:Bs,delete:Hs,clear:Fs,forEach:qt(!1,!0)},n={get(i){return Ht(this,i,!0)},get size(){return Ut(this,!0)},has(i){return Ft.call(this,i,!0)},add:Ce("add"),set:Ce("set"),delete:Ce("delete"),clear:Ce("clear"),forEach:qt(!0,!1)},r={get(i){return Ht(this,i,!0,!0)},get size(){return Ut(this,!0)},has(i){return Ft.call(this,i,!0)},add:Ce("add"),set:Ce("set"),delete:Ce("delete"),clear:Ce("clear"),forEach:qt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Wt(i,!1,!1),n[i]=Wt(i,!0,!1),t[i]=Wt(i,!1,!0),r[i]=Wt(i,!0,!0)}),[e,n,t,r]}var[Qu,ef]=Xu();function Pi(e,t){const n=e?ef:Qu;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(yn(n,s)&&s in r?n:r,s,i)}var tf={get:Pi(!1)},nf={get:Pi(!0)};function $i(e,t,n){const r=M(n);if(r!==n&&t.call(e,r)){const s=Ii(e);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Li=new WeakMap,rf=new WeakMap,Mi=new WeakMap,sf=new WeakMap;function of(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function af(e){return e.__v_skip||!Object.isExtensible(e)?0:of(Ii(e))}function ns(e){return e&&e.__v_isReadonly?e:Di(e,!1,Ju,tf,Li)}function zi(e){return Di(e,!0,Zu,nf,Mi)}function Di(e,t,n,r,s){if(!wn(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=af(e);if(a===0)return e;const c=new Proxy(e,a===2?r:n);return s.set(e,c),c}function M(e){return e&&M(e.__v_raw)||e}function cr(e){return!!(e&&e.__v_isRef===!0)}le("nextTick",()=>Vr);le("dispatch",e=>jt.bind(jt,e));le("watch",(e,{evaluateLater:t,cleanup:n})=>(r,s)=>{let i=t(r),c=$o(()=>{let l;return i(d=>l=d),l},s);n(c)});le("store",wu);le("data",e=>Uo(e));le("root",e=>bn(e));le("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=He(cf(e))),e._x_refs_proxy));function cf(e){let t=[];return Ue(e,n=>{n._x_refs&&t.push(n._x_refs)}),t}var Dn={};function Bi(e){return Dn[e]||(Dn[e]=0),++Dn[e]}function lf(e,t){return Ue(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function df(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=Bi(t))}le("id",(e,{cleanup:t})=>(n,r=null)=>{let s=`${n}${r?`-${r}`:""}`;return uf(e,s,t,()=>{let i=lf(e,n),a=i?i._x_ids[n]:Bi(n);return r?`${n}-${a}-${r}`:`${n}-${a}`})});vn((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function uf(e,t,n,r){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let s=r();return e._x_id[t]=s,n(()=>{delete e._x_id[t]}),s}le("el",e=>e);Hi("Focus","focus","focus");Hi("Persist","persist","persist");function Hi(e,t,n){le(t,r=>te(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}U("modelable",(e,{expression:t},{effect:n,evaluateLater:r,cleanup:s})=>{let i=r(t),a=()=>{let u;return i(p=>u=p),u},c=r(`${t} = __placeholder`),l=u=>c(()=>{},{scope:{__placeholder:u}}),d=a();l(d),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let u=e._x_model.get,p=e._x_model.set,x=ji({get(){return u()},set(C){p(C)}},{get(){return a()},set(C){l(C)}});s(x)})});U("teleport",(e,{modifiers:t,expression:n},{cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&te("x-teleport can only be used on a <template> tag",e);let s=Us(n),i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),i.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(c=>{i.addEventListener(c,l=>{l.stopPropagation(),e.dispatchEvent(new l.constructor(l.type,l))})}),Pt(i,{},e);let a=(c,l,d)=>{d.includes("prepend")?l.parentNode.insertBefore(c,l):d.includes("append")?l.parentNode.insertBefore(c,l.nextSibling):l.appendChild(c)};z(()=>{a(i,s,t),Te(()=>{we(i)})()}),e._x_teleportPutBack=()=>{let c=Us(n);z(()=>{a(e._x_teleport,c,t)})},r(()=>z(()=>{i.remove(),ft(i)}))});var ff=document.createElement("div");function Us(e){let t=Te(()=>document.querySelector(e),()=>ff)();return t||te(`Cannot find x-teleport element for selector: "${e}"`),t}var Fi=()=>{};Fi.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};U("ignore",Fi);U("effect",Te((e,{expression:t},{effect:n})=>{n(Y(e,t))}));function Je(e,t,n,r){let s=e,i=l=>r(l),a={},c=(l,d)=>u=>d(l,u);if(n.includes("dot")&&(t=pf(t)),n.includes("camel")&&(t=hf(t)),n.includes("passive")&&(a.passive=!0),n.includes("capture")&&(a.capture=!0),n.includes("window")&&(s=window),n.includes("document")&&(s=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",d=an(l.split("ms")[0])?Number(l.split("ms")[0]):250;i=wi(i,d)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",d=an(l.split("ms")[0])?Number(l.split("ms")[0]):250;i=_i(i,d)}return n.includes("prevent")&&(i=c(i,(l,d)=>{d.preventDefault(),l(d)})),n.includes("stop")&&(i=c(i,(l,d)=>{d.stopPropagation(),l(d)})),n.includes("once")&&(i=c(i,(l,d)=>{l(d),s.removeEventListener(t,i,a)})),(n.includes("away")||n.includes("outside"))&&(s=document,i=c(i,(l,d)=>{e.contains(d.target)||d.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&l(d))})),n.includes("self")&&(i=c(i,(l,d)=>{d.target===e&&l(d)})),t==="submit"&&(i=c(i,(l,d)=>{d.target._x_pendingModelUpdates&&d.target._x_pendingModelUpdates.forEach(u=>u()),l(d)})),(gf(t)||Ui(t))&&(i=c(i,(l,d)=>{bf(d,n)||l(d)})),s.addEventListener(t,i,a),()=>{s.removeEventListener(t,i,a)}}function pf(e){return e.replace(/-/g,".")}function hf(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function an(e){return!Array.isArray(e)&&!isNaN(e)}function mf(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function gf(e){return["keydown","keyup"].includes(e)}function Ui(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function bf(e,t){let n=t.filter(i=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll","blur","change","lazy"].includes(i));if(n.includes("debounce")){let i=n.indexOf("debounce");n.splice(i,an((n[i+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let i=n.indexOf("throttle");n.splice(i,an((n[i+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&qs(e.key).includes(n[0]))return!1;const s=["ctrl","shift","alt","meta","cmd","super"].filter(i=>n.includes(i));return n=n.filter(i=>!s.includes(i)),!(s.length>0&&s.filter(a=>((a==="cmd"||a==="super")&&(a="meta"),e[`${a}Key`])).length===s.length&&(Ui(e.type)||qs(e.key).includes(n[0])))}function qs(e){if(!e)return[];e=mf(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}U("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:s})=>{let i=e;t.includes("parent")&&(i=e.parentNode);let a=Y(i,n),c;typeof n=="string"?c=Y(i,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?c=Y(i,`${n()} = __placeholder`):c=()=>{};let l=()=>{let m;return a(h=>m=h),Ws(m)?m.get():m},d=m=>{let h;a(v=>h=v),Ws(h)?h.set(m):c(()=>{},{scope:{__placeholder:m}})};typeof n=="string"&&e.type==="radio"&&z(()=>{e.hasAttribute("name")||e.setAttribute("name",n)});let u=t.includes("change")||t.includes("lazy"),p=t.includes("blur"),x=t.includes("enter"),C=u||p||x,j;if(Ae)j=()=>{};else if(C){let m=[],h=v=>d(Kt(e,t,v,l()));if(u&&m.push(Je(e,"change",t,h)),p&&(m.push(Je(e,"blur",t,h)),e.form)){let v=()=>h({target:e});e.form._x_pendingModelUpdates||(e.form._x_pendingModelUpdates=[]),e.form._x_pendingModelUpdates.push(v),s(()=>e.form._x_pendingModelUpdates.splice(e.form._x_pendingModelUpdates.indexOf(v),1))}x&&m.push(Je(e,"keydown",t,v=>{v.key==="Enter"&&h(v)})),j=()=>m.forEach(v=>v())}else{let m=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)?"change":"input";j=Je(e,m,t,h=>{d(Kt(e,t,h,l()))})}if(t.includes("fill")&&([void 0,null,""].includes(l())||Gr(e)&&Array.isArray(l())||e.tagName.toLowerCase()==="select"&&e.multiple)&&d(Kt(e,t,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=j,s(()=>e._x_removeModelListeners.default()),e.form){let m=Je(e.form,"reset",[],h=>{Vr(()=>e._x_model&&e._x_model.set(Kt(e,t,{target:e},l())))});s(()=>m())}e._x_model={get(){return l()},set(m){d(m)}},e._x_forceModelUpdate=m=>{m===void 0&&typeof n=="string"&&n.match(/\./)&&(m=""),window.fromModel=!0,z(()=>gi(e,"value",m)),delete window.fromModel},r(()=>{let m=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(m)})});function Kt(e,t,n,r){return z(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(Gr(e))if(Array.isArray(r)){let s=null;return t.includes("number")?s=Bn(n.target.value):t.includes("boolean")?s=Yt(n.target.value):s=n.target.value,n.target.checked?r.includes(s)?r:r.concat([s]):r.filter(i=>!xf(i,s))}else return n.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(s=>{let i=s.value||s.text;return Bn(i)}):t.includes("boolean")?Array.from(n.target.selectedOptions).map(s=>{let i=s.value||s.text;return Yt(i)}):Array.from(n.target.selectedOptions).map(s=>s.value||s.text);{let s;return yi(e)?n.target.checked?s=n.target.value:s=r:s=n.target.value,t.includes("number")?Bn(s):t.includes("boolean")?Yt(s):t.includes("trim")?s.trim():s}}})}function Bn(e){let t=e?parseFloat(e):null;return vf(t)?t:e}function xf(e,t){return e==t}function vf(e){return!Array.isArray(e)&&!isNaN(e)}function Ws(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}U("cloak",e=>queueMicrotask(()=>z(()=>e.removeAttribute(ut("cloak")))));di(()=>`[${ut("init")}]`);U("init",Te((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));U("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let s=r(t);n(()=>{s(i=>{z(()=>{e.textContent=i})})})});U("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let s=r(t);n(()=>{s(i=>{z(()=>{e.innerHTML=i,e._x_ignoreSelf=!0,we(e),delete e._x_ignoreSelf})})})});qr(ei(":",ti(ut("bind:"))));var qi=(e,{value:t,modifiers:n,expression:r,original:s},{effect:i,cleanup:a})=>{if(!t){let l={};ju(l),Y(e,r)(u=>{Si(e,u,s)},{scope:l});return}if(t==="key")return yf(e,r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let c=Y(e,r);i(()=>c(l=>{l===void 0&&typeof r=="string"&&r.match(/\./)&&(l=""),z(()=>gi(e,t,l,n))})),a(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};qi.inline=(e,{value:t,modifiers:n,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})};U("bind",qi);function yf(e,t){e._x_keyExpression=t}li(()=>`[${ut("data")}]`);U("data",(e,{expression:t},{cleanup:n})=>{if(wf(e))return;t=t===""?"{}":t;let r={};It(r,e);let s={};Su(s,r);let i=Me(e,t,{scope:s});(i===void 0||i===!0)&&(i={}),It(i,e);let a=lt(i);Hr(a);let c=Pt(e,a);a.init&&Me(e,a.init),n(()=>{a.destroy&&Me(e,a.destroy),c()})});vn((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function wf(e){return Ae?or?!0:e.hasAttribute("data-has-alpine-state"):!1}U("show",(e,{modifiers:t,expression:n},{effect:r})=>{let s=Y(e,n);e._x_doHide||(e._x_doHide=()=>{z(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{z(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let i=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},c=()=>setTimeout(a),l=rr(p=>p?a():i(),p=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,p,a,i):p?c():i()}),d,u=!0;r(()=>s(p=>{!u&&p===d||(t.includes("immediate")&&(p?c():i()),l(p),d=p,u=!1)}))});U("for",(e,{expression:t},{effect:n,cleanup:r})=>{let s=jf(t),i=Y(e,s.items),a=Y(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>_f(e,s,i,a)),r(()=>{Object.values(e._x_lookup).forEach(c=>z(()=>{ft(c),c.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function _f(e,t,n,r){let s=a=>typeof a=="object"&&!Array.isArray(a),i=e;n(a=>{Cf(a)&&a>=0&&(a=Array.from(Array(a).keys(),h=>h+1)),a===void 0&&(a=[]);let c=e._x_lookup,l=e._x_prevKeys,d=[],u=[];if(s(a))a=Object.entries(a).map(([h,v])=>{let _=Ks(t,v,h,a);r(w=>{u.includes(w)&&te("Duplicate key on x-for",e),u.push(w)},{scope:{index:h,..._}}),d.push(_)});else for(let h=0;h<a.length;h++){let v=Ks(t,a[h],h,a);r(_=>{u.includes(_)&&te("Duplicate key on x-for",e),u.push(_)},{scope:{index:h,...v}}),d.push(v)}let p=[],x=[],C=[],j=[];for(let h=0;h<l.length;h++){let v=l[h];u.indexOf(v)===-1&&C.push(v)}l=l.filter(h=>!C.includes(h));let m="template";for(let h=0;h<u.length;h++){let v=u[h],_=l.indexOf(v);if(_===-1)l.splice(h,0,v),p.push([m,h]);else if(_!==h){let w=l.splice(h,1)[0],$=l.splice(_-1,1)[0];l.splice(h,0,$),l.splice(_,0,w),x.push([w,$])}else j.push(v);m=v}for(let h=0;h<C.length;h++){let v=C[h];v in c&&(z(()=>{ft(c[v]),c[v].remove()}),delete c[v])}for(let h=0;h<x.length;h++){let[v,_]=x[h],w=c[v],$=c[_],B=document.createElement("div");z(()=>{$||te('x-for ":key" is undefined or invalid',i,_,c),$.after(B),w.after($),$._x_currentIfEl&&$.after($._x_currentIfEl),B.before(w),w._x_currentIfEl&&w.after(w._x_currentIfEl),B.remove()}),$._x_refreshXForScope(d[u.indexOf(_)])}for(let h=0;h<p.length;h++){let[v,_]=p[h],w=v==="template"?i:c[v];w._x_currentIfEl&&(w=w._x_currentIfEl);let $=d[_],B=u[_],q=document.importNode(i.content,!0).firstElementChild,W=lt($);Pt(q,W,i),q._x_refreshXForScope=X=>{Object.entries(X).forEach(([re,Q])=>{W[re]=Q})},z(()=>{w.after(q),Te(()=>we(q))()}),typeof B=="object"&&te("x-for key cannot be an object, it must be a string or an integer",i),c[B]=q}for(let h=0;h<j.length;h++)c[j[h]]._x_refreshXForScope(d[u.indexOf(j[h])]);i._x_prevKeys=u})}function jf(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=e.match(r);if(!s)return;let i={};i.items=s[2].trim();let a=s[1].replace(n,"").trim(),c=a.match(t);return c?(i.item=a.replace(t,"").trim(),i.index=c[1].trim(),c[2]&&(i.collection=c[2].trim())):i.item=a,i}function Ks(e,t,n,r){let s={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(a=>a.trim()).forEach((a,c)=>{s[a]=t[c]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(a=>a.trim()).forEach(a=>{s[a]=t[a]}):s[e.item]=t,e.index&&(s[e.index]=n),e.collection&&(s[e.collection]=r),s}function Cf(e){return!Array.isArray(e)&&!isNaN(e)}function Wi(){}Wi.inline=(e,{expression:t},{cleanup:n})=>{let r=bn(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])};U("ref",Wi);U("if",(e,{expression:t},{effect:n,cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&te("x-if can only be used on a <template> tag",e);let s=Y(e,t),i=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let c=e.content.cloneNode(!0).firstElementChild;return Pt(c,{},e),z(()=>{e.after(c),Te(()=>we(c))()}),e._x_currentIfEl=c,e._x_undoIf=()=>{z(()=>{ft(c),c.remove()}),delete e._x_currentIfEl},c},a=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};n(()=>s(c=>{c?i():a()})),r(()=>e._x_undoIf&&e._x_undoIf())});U("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(s=>df(e,s))});vn((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)});qr(ei("@",ti(ut("on:"))));U("on",Te((e,{value:t,modifiers:n,expression:r},{cleanup:s})=>{let i=r?Y(e,r):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let a=Je(e,t,n,c=>{i(()=>{},{scope:{$event:c},params:[c]})});s(()=>a())}));jn("Collapse","collapse","collapse");jn("Intersect","intersect","intersect");jn("Focus","trap","focus");jn("Mask","mask","mask");function jn(e,t,n){U(t,r=>te(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}pt.setEvaluator(Jo);pt.setRawEvaluator(Md);pt.setReactivityEngine({reactive:ns,effect:$u,release:Lu,raw:M});var Sf=pt,Vs=Sf;function Ef(e,t,n,r,s={}){const i=Rr(),a=document.createElement("div");a.className="sb-composer absolute flex flex-column sb-bg ba sb-b-default br3 sb-shadow sans-serif overflow-hidden",a.style.zIndex="100001",a.style.width="280px",a.style.left=`${t}%`,a.style.top=`${n}%`,a.style.transform="translate(12px, -50%)",a.innerHTML=`
    <div x-data="sbComposer" @keydown.escape.prevent.stop="cancel()">
      ${i?`
        <div class="flex items-center ph3 pt2">
          <img class="br-100 ba sb-b-default flex-shrink-0 mr2" style="width:24px;height:24px" src="${i.avatarUrl}" alt="${i.login}" />
          <span class="f7 sb-fg-muted fw5">${i.login}</span>
        </div>
      `:""}
      <div class="ph3 pt2 pb3">
        <textarea class="sb-input w-100 ph2 pv2 br2 f6 sans-serif lh-copy db" style="min-height:60px;max-height:160px;resize:vertical;box-sizing:border-box;font-size:13px"
                  placeholder="Leave a comment…"
                  x-model="text"
                  @keydown.meta.enter="submit()"
                  @keydown.ctrl.enter="submit()"></textarea>
      </div>
      <template x-if="error">
        <div class="ph3 pb2 f7 sb-fg-danger" x-text="error"></div>
      </template>
      <div class="flex items-center justify-end ph3 pb2">
        <button class="sb-btn-cancel ph3 pv1 br2 f7 fw5 pointer mr1" style="font-size:12px" @click="cancel()">Cancel</button>
        <button class="sb-btn-success ph3 pv1 br2 f7 fw5 pointer bn" style="font-size:12px" :disabled="submitting"
                @click="submit()" x-text="submitting ? 'Posting…' : 'Comment'">Comment</button>
      </div>
    </div>
  `,e.appendChild(a),a.addEventListener("click",d=>d.stopPropagation());function c(){window.removeEventListener("keydown",l,!0),a.remove()}function l(d){d.key==="Escape"&&(d.preventDefault(),d.stopPropagation(),c(),s.onCancel?.())}return window.addEventListener("keydown",l,!0),window.Alpine._sbComposerRegistered||(window.Alpine.data("sbComposer",()=>({text:"",submitting:!1,error:null,async submit(){const d=this.text.trim();if(d){this.submitting=!0,this.error=null;try{const u=await Ql(r,t,n,d);c(),s.onSubmit?.(u)}catch(u){this.error=u.message,this.submitting=!1,console.error("[storyboard] Failed to post comment:",u)}}},cancel(){c(),s.onCancel?.()}})),window.Alpine._sbComposerRegistered=!0),window.Alpine.initTree(a),requestAnimationFrame(()=>{const d=a.querySelector("textarea");d&&d.focus();const u=a.getBoundingClientRect(),p=window.innerWidth,x=window.innerHeight,C=8;let j=12,m=-(u.height/2);u.left+u.width>p-C&&(j=-(u.width+12));const h=u.top+u.height/2,v=h+m+u.height;v>x-C&&(m-=v-x+C),h+m<C&&(m=C-h),a.style.transform=`translate(${j}px, ${m}px)`}),{el:a,destroy:c}}const Ys="sb-auth-modal";function Af(){return new Promise(e=>{const t=document.getElementById(Ys);t&&t.remove();const n=document.createElement("div");n.id=Ys,n.className="sb-auth-backdrop fixed top-0 right-0 bottom-0 left-0 flex items-center justify-center sans-serif",n.style.cssText="z-index:100000;background:rgba(0,0,0,0.5);backdrop-filter:blur(4px);",n.innerHTML=`
      <div class="sb-bg ba sb-b-default br3 sb-shadow sb-fg overflow-hidden" style="width:420px;max-width:calc(100vw - 32px)" x-data="sbAuthModal">
        <div class="flex items-center justify-between ph4 pv3 bb sb-b-muted">
          <h2 class="ma0 f5 fw6 sb-fg">Sign in for comments</h2>
          <button class="flex items-center justify-center bg-transparent bn br2 sb-fg-muted pointer" style="width:28px;height:28px;font-size:18px;line-height:1" @click="close()" aria-label="Close">×</button>
        </div>
        <div class="pa4">
          <p class="ma0 mb3 lh-copy sb-fg-muted" style="font-size:13px">
            Enter a <a class="sb-fg-accent no-underline" href="https://github.com/settings/tokens/new" target="_blank" rel="noopener">GitHub Personal Access Token</a>
            to leave comments on this prototype. Your token is stored locally in your browser.
          </p>
          <label class="db mb1 fw5 sb-fg" style="font-size:13px" for="sb-auth-token-input">Personal Access Token</label>
          <input class="sb-input w-100 ph3 pv2 br2 f6 code db" style="box-sizing:border-box" id="sb-auth-token-input" type="password"
                 placeholder="ghp_xxxxxxxxxxxx" autocomplete="off" spellcheck="false"
                 x-model="token" @keydown.enter="submit()" />
          <div class="mt2 ph3 pv2 sb-bg-inset ba sb-b-muted br2 f7 sb-fg-muted lh-copy">Required scopes: <code class="dib ph1 sb-bg-muted br1 code sb-fg" style="font-size:11px;padding-top:1px;padding-bottom:1px">repo</code> <code class="dib ph1 sb-bg-muted br1 code sb-fg" style="font-size:11px;padding-top:1px;padding-bottom:1px">read:user</code></div>
          <template x-if="error">
            <div class="mt2 ph3 pv2 br2 sb-fg-danger" style="font-size:13px;background:color-mix(in srgb, var(--sb-fg-danger) 10%, transparent);border:1px solid color-mix(in srgb, var(--sb-fg-danger) 30%, transparent)" x-text="error"></div>
          </template>
          <template x-if="user">
            <div class="flex items-center pv1">
              <img class="br-100 ba sb-b-default mr3" style="width:40px;height:40px;border-width:2px" :src="user.avatarUrl" :alt="user.login" />
              <div class="f6 sb-fg">
                <span x-text="user.login"></span>
                <span class="db f7 sb-fg-success mt1">✓ Signed in</span>
              </div>
            </div>
          </template>
        </div>
        <div class="flex items-center justify-end ph4 pv3 bt sb-b-muted">
          <button class="sb-btn-cancel ph3 pv1 br2 fw5 sans-serif pointer mr2" style="font-size:13px" @click="close()">Cancel</button>
          <button class="sb-btn-success ph3 pv1 br2 fw5 sans-serif pointer bn" style="font-size:13px" :disabled="submitting"
                  @click="user ? done() : submit()" x-text="user ? 'Done' : (submitting ? 'Validating…' : 'Sign in')">
            Sign in
          </button>
        </div>
      </div>
    `,document.body.appendChild(n),n.addEventListener("click",s=>{s.target===n&&(n.remove(),e(null))});function r(s){s.key==="Escape"&&(s.preventDefault(),s.stopPropagation(),window.removeEventListener("keydown",r,!0),n.remove(),e(null))}window.addEventListener("keydown",r,!0),window.Alpine._sbAuthRegistered||(window.Alpine.data("sbAuthModal",()=>({token:"",submitting:!1,error:null,user:null,async submit(){const s=this.token.trim();if(s){this.submitting=!0,this.error=null;try{const i=await Dl(s);Ml(s),this.user=i}catch(i){this.error=i.message}finally{this.submitting=!1}}},done(){window.removeEventListener("keydown",r,!0);const s=this.user;n.remove(),e(s)},close(){window.removeEventListener("keydown",r,!0),n.remove(),e(null)}})),window.Alpine._sbAuthRegistered=!0),window.Alpine.initTree(n),requestAnimationFrame(()=>{const s=n.querySelector("#sb-auth-token-input");s&&s.focus()})})}function qf(){const e=Rr();zl(),console.log(`[storyboard] Signed out${e?` (was ${e.login})`:""}`)}const Ki={THUMBS_UP:"👍",THUMBS_DOWN:"👎",LAUGH:"😄",HOORAY:"🎉",CONFUSED:"😕",HEART:"❤️",ROCKET:"🚀",EYES:"👀"};function Gs(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function Js(e){const t=document.createElement("div");t.className=e.replies?"flex items-center flex-wrap mb2":"flex items-center flex-wrap mt1";function n(){t.innerHTML="";const r=e.reactionGroups??[];for(const i of r){if(i.users?.totalCount===0&&!i.viewerHasReacted)continue;const a=i.users?.totalCount??0;if(a===0)continue;const c=document.createElement("button");c.className="sb-reaction-pill dib flex items-center ph2 br-pill sb-pill pointer sans-serif mr1 mb1",c.style.cssText="padding-top:2px;padding-bottom:2px;font-size:12px",c.dataset.active=String(!!i.viewerHasReacted),i.viewerHasReacted&&(c.className="sb-reaction-pill dib flex items-center ph2 br-pill sb-pill sb-pill-active pointer sans-serif mr1 mb1",c.style.cssText="padding-top:2px;padding-bottom:2px;font-size:12px"),c.innerHTML=`<span class="mr1">${Ki[i.content]??i.content}</span><span>${a}</span>`,c.addEventListener("click",l=>{l.stopPropagation(),Vi(e,i.content,i,n)}),t.appendChild(c)}const s=document.createElement("button");s.className="dib flex items-center ph1 br-pill ba sb-b-default sb-bg-muted sb-fg-muted f7 pointer sans-serif relative mr1 mb1",s.style.cssText="padding-top:2px;padding-bottom:2px",s.textContent="😀 +",s.addEventListener("click",i=>{i.stopPropagation(),If(s,e,n)}),t.appendChild(s)}return n(),t}function If(e,t,n){const r=e.querySelector(".sb-reaction-picker");if(r){r.remove();return}const s=document.createElement("div");s.className="sb-reaction-picker absolute left-0 flex pa1 sb-bg ba sb-b-default br3 sb-shadow",s.style.cssText="bottom:100%;margin-bottom:4px;z-index:10";for(const[a,c]of Object.entries(Ki)){const l=t.reactionGroups??[],d=l.some(p=>p.content===a&&p.viewerHasReacted),u=document.createElement("button");u.className=d?"flex items-center justify-center br2 bn f6 pointer mr1":"flex items-center justify-center br2 bn bg-transparent f6 pointer mr1",u.style.cssText=d?"width:28px;height:28px;background:color-mix(in srgb, var(--sb-fg-accent) 10%, transparent);box-shadow:inset 0 0 0 1px var(--sb-fg-accent);transition:background 100ms":"width:28px;height:28px;transition:background 100ms",u.dataset.active=String(d),u.textContent=c,u.addEventListener("click",p=>{p.stopPropagation();const x=l.find(C=>C.content===a);Vi(t,a,x,n),s.remove()}),s.appendChild(u)}e.appendChild(s);function i(a){!s.contains(a.target)&&a.target!==e&&(s.remove(),document.removeEventListener("click",i,!0))}setTimeout(()=>document.addEventListener("click",i,!0),0)}async function Vi(e,t,n,r){const s=n?.viewerHasReacted??!1;e.reactionGroups||(e.reactionGroups=[]),s&&n?(n.users={totalCount:Math.max(0,(n.users?.totalCount??1)-1)},n.viewerHasReacted=!1,n.users.totalCount===0&&(e.reactionGroups=e.reactionGroups.filter(i=>i.content!==t))):n?(n.users={totalCount:(n.users?.totalCount??0)+1},n.viewerHasReacted=!0):e.reactionGroups.push({content:t,users:{totalCount:1},viewerHasReacted:!0}),r();try{s?await cd(e.id,t):await ad(e.id,t)}catch(i){console.error("[storyboard] Reaction toggle failed:",i)}}let me=null;function Yi(e,t,n,r={}){me&&(me.destroy(),me=null);const s=Rr(),i=document.createElement("div");i.className="sb-comment-window absolute flex flex-column sb-bg ba sb-b-default br3 sb-shadow sans-serif overflow-hidden",i.style.zIndex="100001",i.style.width="360px",i.style.maxHeight="480px",i.style.left=`${t.meta?.x??0}%`,i.style.top=`${t.meta?.y??0}%`,i.style.transform="translate(12px, -50%)";const a=document.createElement("div");a.className="flex items-center justify-between ph3 pv2 bb sb-b-muted",a.style.cssText="cursor:grab;user-select:none",a.addEventListener("mousedown",()=>{a.style.cursor="grabbing"}),a.addEventListener("mouseup",()=>{a.style.cursor="grab"});const c=document.createElement("div");if(c.className="flex items-center",t.author?.avatarUrl){const y=document.createElement("img");y.className="br-100 ba sb-b-default flex-shrink-0 mr2",y.style.cssText="width:24px;height:24px",y.src=t.author.avatarUrl,y.alt=t.author.login??"",c.appendChild(y)}const l=document.createElement("span");if(l.className="f7 fw6 sb-fg",l.textContent=t.author?.login??"unknown",c.appendChild(l),t.createdAt){const y=document.createElement("span");y.className="sb-fg-muted ml1",y.style.fontSize="11px",y.textContent=Gs(t.createdAt),c.appendChild(y)}a.appendChild(c);const d=document.createElement("div");d.className="sb-comment-window-header-actions flex items-center flex-shrink-0";const u="flex items-center justify-center pa2 bg-transparent bn br2 pointer fw5 sans-serif flex-shrink-0 nowrap",p="font-size:11px;line-height:1",x=`${u} sb-fg-muted`,C=`${u} sb-fg-success`,j=document.createElement("button");j.className=t.meta?.resolved?C:x,j.style.cssText=p,j.setAttribute("aria-label",t.meta?.resolved?"Unresolve":"Resolve"),j.title=t.meta?.resolved?"Unresolve":"Resolve",j.textContent=t.meta?.resolved?"Resolved ✓":"Resolve",j.addEventListener("click",async y=>{y.stopPropagation();const A=!!t.meta?.resolved;j.disabled=!0,j.textContent=A?"Unresolving…":"Resolving…";try{A?(await nd(t.id,t._rawBody??t.body??""),t.meta={...t.meta,resolved:!1},delete t.meta.resolved,j.className=x,j.textContent="Resolve",j.title="Resolve",j.disabled=!1,r.onMove?.()):(await td(t.id,t._rawBody??t.body??""),t.meta={...t.meta,resolved:!0},r.onMove?.(),We())}catch(g){console.error("[storyboard] Failed to toggle resolve:",g),j.className=A?C:x,j.textContent=A?"Resolved ✓":"Resolve",j.disabled=!1}}),d.appendChild(j);const m=document.createElement("button");m.className=x,m.style.cssText=p,m.setAttribute("aria-label","Copy link"),m.title="Copy link",m.textContent="Copy link",m.addEventListener("click",y=>{y.stopPropagation();const A=new URL(window.location.href);A.searchParams.set("comment",t.id),navigator.clipboard.writeText(A.toString()).then(()=>{m.dataset.copied="true",m.className=C,m.textContent="Copied!",m.title="Copied!",setTimeout(()=>{m.dataset.copied="false",m.className=x,m.textContent="Copy link",m.title="Copy link"},2e3)}).catch(()=>{const g=document.createElement("input");g.value=A.toString(),document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()})}),d.appendChild(m);const h=document.createElement("button");h.className="flex items-center justify-center bg-transparent bn br2 sb-fg-muted pointer flex-shrink-0",h.style.cssText="width:24px;height:24px;font-size:16px;line-height:1",h.innerHTML="×",h.setAttribute("aria-label","Close"),h.addEventListener("click",y=>{y.stopPropagation(),We()}),d.appendChild(h),a.appendChild(d),i.appendChild(a);const v=document.createElement("div");v.className="flex-auto overflow-y-auto pa3";const _=document.createElement("p");if(_.className="lh-copy sb-fg ma0 mb2 word-wrap",_.style.fontSize="13px",_.textContent=t.text??"",v.appendChild(_),s&&t.author?.login===s.login){const y=document.createElement("button");y.className="sb-fg-muted bg-transparent bn pointer f7 mb2 underline-hover",y.textContent="Edit",y.addEventListener("click",A=>{A.stopPropagation(),y.style.display="none",_.style.display="none";const g=document.createElement("textarea");g.className="sb-input w-100 ph2 pv1 br2 f7 sans-serif lh-copy db mb1",g.style.cssText="min-height:60px;max-height:160px;resize:vertical;box-sizing:border-box",g.value=t.text??"",v.insertBefore(g,_.nextSibling);const E=document.createElement("div");E.className="flex justify-end mb2";const L=document.createElement("button");L.className="sb-btn-cancel ph2 pv1 br2 f7 fw5 sans-serif pointer mr1",L.textContent="Cancel";const I=document.createElement("button");I.className="sb-btn-success ph2 pv1 br2 f7 fw5 sans-serif pointer bn",I.textContent="Save",E.appendChild(L),E.appendChild(I),v.insertBefore(E,g.nextSibling),L.addEventListener("click",K=>{K.stopPropagation(),g.remove(),E.remove(),_.style.display="",y.style.display=""}),I.addEventListener("click",async K=>{K.stopPropagation();const R=g.value.trim();if(R){I.disabled=!0,I.textContent="Saving…";try{await rd(t.id,t._rawBody??t.body??"",R),t.text=R,t._rawBody=null,_.textContent=R,g.remove(),E.remove(),_.style.display="",y.style.display=""}catch(O){console.error("[storyboard] Failed to edit comment:",O),I.disabled=!1,I.textContent="Save"}}}),g.focus()}),v.appendChild(y)}v.appendChild(Js(t));const w=t.replies??[];if(w.length>0){const y=document.createElement("div");y.className="bt sb-b-muted pt2 mt1";const A=document.createElement("div");A.className="fw6 sb-fg-muted ttu tracked mb2",A.style.fontSize="11px",A.textContent=`${w.length} ${w.length===1?"Reply":"Replies"}`,y.appendChild(A);for(const g of w){const E=document.createElement("div");if(E.className="flex mb2",g.author?.avatarUrl){const O=document.createElement("img");O.className="br-100 ba sb-b-default flex-shrink-0 mr2",O.style.cssText="width:20px;height:20px",O.src=g.author.avatarUrl,O.alt=g.author.login??"",E.appendChild(O)}const L=document.createElement("div");L.className="flex-auto",L.style.minWidth="0";const I=document.createElement("div");I.className="flex items-center mb1";const K=document.createElement("span");if(K.className="f7 fw6 sb-fg mr1",K.textContent=g.author?.login??"unknown",I.appendChild(K),g.createdAt){const O=document.createElement("span");O.className="sb-fg-muted",O.style.fontSize="11px",O.textContent=Gs(g.createdAt),I.appendChild(O)}L.appendChild(I);const R=document.createElement("p");if(R.className="lh-copy sb-fg ma0 word-wrap",R.style.fontSize="13px",R.textContent=g.text??g.body??"",L.appendChild(R),s&&g.author?.login===s.login){const O=document.createElement("div");O.className="flex mt1",O.style.gap="8px";const H=document.createElement("button");H.className="sb-fg-muted bg-transparent bn pointer underline-hover",H.style.fontSize="11px",H.textContent="Edit",H.addEventListener("click",Ke=>{Ke.stopPropagation(),H.style.display="none",R.style.display="none",O.querySelector(".sb-delete-reply")&&(O.querySelector(".sb-delete-reply").style.display="none");const Z=document.createElement("textarea");Z.className="sb-input w-100 ph2 pv1 br2 sans-serif lh-copy db mb1",Z.style.cssText="min-height:40px;max-height:100px;resize:vertical;box-sizing:border-box;font-size:12px",Z.value=g.text??g.body??"",L.insertBefore(Z,R.nextSibling);const pe=document.createElement("div");pe.className="flex justify-end mb1";const Ve=document.createElement("button");Ve.className="sb-btn-cancel ph2 pv1 br2 f7 fw5 sans-serif pointer mr1",Ve.textContent="Cancel";const ie=document.createElement("button");ie.className="sb-btn-success ph2 pv1 br2 f7 fw5 sans-serif pointer bn",ie.textContent="Save",pe.appendChild(Ve),pe.appendChild(ie),L.insertBefore(pe,Z.nextSibling),Ve.addEventListener("click",ht=>{ht.stopPropagation(),Z.remove(),pe.remove(),R.style.display="",H.style.display="",O.querySelector(".sb-delete-reply")&&(O.querySelector(".sb-delete-reply").style.display="")}),ie.addEventListener("click",async ht=>{ht.stopPropagation();const _e=Z.value.trim();if(_e){ie.disabled=!0,ie.textContent="Saving…";try{await sd(g.id,_e),g.text=_e,g.body=_e,R.textContent=_e,Z.remove(),pe.remove(),R.style.display="",H.style.display="",O.querySelector(".sb-delete-reply")&&(O.querySelector(".sb-delete-reply").style.display="")}catch(En){console.error("[storyboard] Failed to edit reply:",En),ie.disabled=!1,ie.textContent="Save"}}}),Z.focus()}),O.appendChild(H);const oe=document.createElement("button");oe.className="sb-delete-reply sb-fg-danger bg-transparent bn pointer underline-hover",oe.style.fontSize="11px",oe.textContent="Delete",oe.addEventListener("click",async Ke=>{if(Ke.stopPropagation(),!!confirm("Delete this reply?")){oe.textContent="Deleting…",oe.disabled=!0;try{await id(g.id),E.remove(),r.onMove?.()}catch(Z){console.error("[storyboard] Failed to delete reply:",Z),oe.textContent="Delete",oe.disabled=!1}}}),O.appendChild(oe),L.appendChild(O)}L.appendChild(Js(g)),E.appendChild(L),y.appendChild(E)}v.appendChild(y)}if(i.appendChild(v),s&&n){const y=document.createElement("div");y.className="bt sb-b-muted ph3 pv3 flex flex-column";const A=document.createElement("textarea");A.className="sb-input w-100 ph2 pv1 br2 f7 sans-serif lh-copy db mb1",A.style.cssText="min-height:40px;max-height:100px;resize:vertical;box-sizing:border-box",A.placeholder="Reply…",y.appendChild(A);const g=document.createElement("div");g.className="flex justify-end mt2";const E=document.createElement("button");E.className="sb-btn-success ph2 pv1 br2 f7 fw5 sans-serif pointer bn",E.textContent="Reply",E.disabled=!0,A.addEventListener("input",()=>{E.disabled=!A.value.trim()});async function L(){const I=A.value.trim();if(I){E.disabled=!0,E.textContent="Posting…";try{await ed(n.id,t.id,I),A.value="",E.textContent="Reply",r.onMove?.()}catch(K){console.error("[storyboard] Failed to post reply:",K),E.textContent="Reply",E.disabled=!1}}}E.addEventListener("click",L),A.addEventListener("keydown",I=>{I.key==="Enter"&&(I.metaKey||I.ctrlKey)&&(I.preventDefault(),L()),I.key==="Escape"&&(I.preventDefault(),I.stopPropagation())}),g.appendChild(E),y.appendChild(g),i.appendChild(y)}let $=!1,B=0,q=0,W=0,X=0;function re(y){if(y.target.closest(".sb-comment-window-header-actions"))return;$=!0,B=y.clientX,q=y.clientY;const A=e.getBoundingClientRect();W=parseFloat(i.style.left)/100*A.width,X=parseFloat(i.style.top)/100*A.height,document.addEventListener("mousemove",Q),document.addEventListener("mouseup",se),y.preventDefault()}function Q(y){if(!$)return;const A=y.clientX-B,g=y.clientY-q,E=e.getBoundingClientRect(),L=W+A,I=X+g,K=Math.round(L/E.width*1e3)/10,R=Math.round(I/E.height*1e3)/10;i.style.left=`${K}%`,i.style.top=`${R}%`}async function se(y){if(!$)return;$=!1,document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",se);const A=e.getBoundingClientRect(),g=y.clientX-B,E=y.clientY-q,L=W+g,I=X+E,K=Math.round(L/A.width*1e3)/10,R=Math.round(I/A.height*1e3)/10;if(Math.abs(g)>2||Math.abs(E)>2){t.meta={...t.meta,x:K,y:R};const O=e.querySelectorAll(".sb-comment-pin");for(const H of O)if(H._commentId===t.id){H.style.left=`${K}%`,H.style.top=`${R}%`;break}try{await od(t.id,t._rawBody??"",K,R),t._rawBody=null}catch(H){console.error("[storyboard] Failed to move comment:",H)}}}a.addEventListener("mousedown",re),i.addEventListener("click",y=>y.stopPropagation());const $t=new URL(window.location.href);$t.searchParams.set("comment",t.id),window.history.replaceState(null,"",$t.toString()),e.appendChild(i),requestAnimationFrame(()=>{const y=i.getBoundingClientRect(),A=window.innerWidth,g=window.innerHeight,E=8;let L=12,I=-(y.height/2);y.left+y.width>A-E&&(L=-(y.width+12));const R=y.top+y.height/2,H=R+I+y.height;H>g-E&&(I-=H-g+E),R+I<E&&(I=E-R),i.style.transform=`translate(${L}px, ${I}px)`});function We(){document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",se),i.remove(),me?.el===i&&(me=null);const y=new URL(window.location.href);y.searchParams.delete("comment"),window.history.replaceState(null,"",y.toString()),r.onClose?.()}return me={el:i,destroy:We},{el:i,destroy:We}}function Gi(){me&&(me.destroy(),me=null)}let ge=null,ue=null,ee=null,lr=[],cn=null;function rs(){return document.querySelector("main")||document.body}function Cn(){if(ue)return ue;const e=rs();return getComputedStyle(e).position==="static"&&(e.style.position="relative"),ue=document.createElement("div"),ue.className="sb-comment-overlay absolute top-0 right-0 bottom-0 left-0 pe-none",ue.style.zIndex="99998",e.appendChild(ue),ue}function Tf(){ge||(ge=document.createElement("div"),ge.className="fixed flex items-center pe-none sans-serif sb-shadow",ge.style.cssText="bottom:12px;left:50%;transform:translateX(-50%);z-index:99999;background:var(--sb-bg);color:var(--sb-fg);padding:6px 16px;border-radius:8px;font-size:13px;line-height:1.4;backdrop-filter:blur(12px)",ge.innerHTML='Comment mode — click to place a comment. Press <kbd style="display:inline-block;padding:1px 6px;font-size:11px;font-family:inherit;border:1px solid rgba(255,255,255,0.3);border-radius:4px;background:rgba(255,255,255,0.1)">C</kbd> or <kbd style="display:inline-block;padding:1px 6px;font-size:11px;font-family:inherit;border:1px solid rgba(255,255,255,0.3);border-radius:4px;background:rgba(255,255,255,0.1)">Esc</kbd> to exit.',document.body.appendChild(ge))}function kf(){ge&&(ge.remove(),ge=null)}function Ji(){return window.location.pathname}function ss(){for(const e of lr)e.remove();lr=[]}function Zi(e,t,n){const r=document.createElement("div");r.className="sb-comment-pin absolute br-100 sb-bg pointer sb-shadow pe-auto overflow-hidden",r.style.cssText="z-index:100000;width:32px;height:32px;margin-left:-16px;margin-top:-16px;transition:transform 100ms ease-in-out",r.style.left=`${t.meta?.x??0}%`,r.style.top=`${t.meta?.y??0}%`;const s=n*137.5%360;if(r.style.setProperty("--pin-hue",String(Math.round(s))),t.author?.avatarUrl){const i=document.createElement("img");i.className="br-100 db",i.style.cssText="width:100%;height:100%;object-fit:cover",i.src=t.author.avatarUrl,i.alt=t.author.login??"",r.appendChild(i)}return t.meta?.resolved&&r.setAttribute("data-resolved","true"),r.title=`${t.author?.login??"unknown"}: ${t.text?.slice(0,80)??""}`,r._commentId=t.id,t._rawBody=t.body,r.addEventListener("click",i=>{i.stopPropagation(),ee&&(ee.destroy(),ee=null),Yi(e,t,cn,{onClose:()=>{},onMove:()=>Sn()})}),e.appendChild(r),lr.push(r),r}function Xi(){if(!cn?.comments?.length)return;const e=Cn();ss(),cn.comments.forEach((t,n)=>{t.meta?.x!=null&&t.meta?.y!=null&&Zi(e,t,n)})}async function Sn(){if(!rn())return;const e=Cn();Xi();try{const t=await No(Ji());if(cn=t,ss(),!t?.comments?.length)return;t.comments.forEach((n,r)=>{n.meta?.x!=null&&n.meta?.y!=null&&Zi(e,n,r)}),Nf(e,t)}catch(t){console.warn("[storyboard] Could not load comments:",t.message)}}function Nf(e,t){const n=new URLSearchParams(window.location.search).get("comment");if(!n||!t?.comments?.length)return;const r=t.comments.find(s=>s.id===n);if(r){if(r.meta?.y!=null){const s=rs(),i=r.meta.y/100*s.scrollHeight,a=s.scrollTop||window.scrollY,c=a+window.innerHeight;if(i<a||i>c){const l=Math.max(0,i-window.innerHeight/3);window.scrollTo({top:l,behavior:"smooth"})}}r._rawBody=r.body,Yi(e,r,t,{onClose:()=>{},onMove:()=>Sn()})}}function Of(e){if(!Vt()||e.target.closest(".sb-composer")||e.target.closest(".sb-comment-pin")||e.target.closest(".sb-comment-window"))return;Gi(),ee&&(ee.destroy(),ee=null);const t=rs(),n=t.getBoundingClientRect(),r=Math.round((e.clientX-n.left)/n.width*1e3)/10,s=Math.round((e.clientY-n.top+t.scrollTop)/t.scrollHeight*1e3)/10,i=Cn();ee=Ef(i,r,s,Ji(),{onCancel:()=>{ee=null},onSubmit:()=>{ee=null,Sn()}})}function Rf(e){e?(document.body.classList.add("sb-comment-mode"),Tf(),Cn(),Xi(),Sn()):(document.body.classList.remove("sb-comment-mode"),kf(),ee&&(ee.destroy(),ee=null),Gi(),ss(),ue&&(ue.remove(),ue=null))}let Zs=!1;function Pf(){Zs||(Zs=!0,window.Alpine=Vs,Vs.start(),Hl(Rf),document.addEventListener("click",e=>{Vt()&&(e.target.closest(".sb-devtools-wrapper")||e.target.closest(".sb-auth-backdrop")||e.target.closest(".sb-comments-drawer")||e.target.closest(".sb-comments-drawer-backdrop")||e.target.closest(".sb-composer")||e.target.closest(".sb-comment-pin")||e.target.closest(".sb-comment-window")||Of(e))}),window.addEventListener("keydown",e=>{const t=e.target.tagName;if(!(t==="INPUT"||t==="TEXTAREA"||t==="SELECT"||e.target.isContentEditable)){if(e.key==="c"&&!e.metaKey&&!e.ctrlKey&&!e.altKey){if(!tn())return;if(e.preventDefault(),!Vt()&&!rn()){Af();return}Bl()}e.key==="Escape"&&Vt()&&(e.preventDefault(),Ns(!1))}}),tn()&&rn()&&new URLSearchParams(window.location.search).get("comment")&&Ns(!0))}const $f={repo:{owner:"dfosco",name:"storyboard"},discussions:{category:"General"}},Lf={comments:$f},Qi=ua(Ol,{basename:"/storyboard/branch--dfosco/"});nc(Qi,"/storyboard/branch--dfosco/");Ia();Ea();Na(Lf);Ha({basePath:"/storyboard/branch--dfosco/"});Pf();const Mf=document.getElementById("root"),zf=ma.createRoot(Mf);zf.render(o.jsx(k.StrictMode,{children:o.jsx(ga,{colorMode:"auto",children:o.jsxs(ba,{children:[o.jsx(Ll,{}),o.jsx(fa,{router:Qi})]})})}));export{qf as a,No as f,Sr as g,rn as i,Uf as l,Af as o,Ns as s,Bl as t};
